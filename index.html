 <!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIæ™ºé€‰äºŒæ‰‹å¹³å° - è®©é—²ç½®é‡è·æ–°ç”Ÿ</title>
    
    <!-- SEO Metaæ ‡ç­¾ (#10) -->
    <meta name="description" content="AIæ™ºé€‰äºŒæ‰‹å¹³å°ï¼ŒAIç²¾å‡†åŒ¹é…æ¨é€ï¼Œè®©é—²ç½®é‡è·æ–°ç”Ÿã€‚ç®€å•å‘å¸ƒï¼Œæ™ºèƒ½æ¨èï¼Œé›¶ä½£é‡‘æˆäº¤ã€‚">
    <meta name="keywords" content="äºŒæ‰‹äº¤æ˜“,é—²ç½®è½¬è®©,AIåŒ¹é…,äºŒæ‰‹å¹³å°,æ™ºé€‰,Wise Select">
    <meta property="og:title" content="AIæ™ºé€‰äºŒæ‰‹å¹³å° - WISE SELECT">
    <meta property="og:description" content="AIç²¾å‡†åŒ¹é…æ¨é€ï¼Œè®©å¥½ç‰©é‡è§å¯¹çš„äºº">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://images.unsplash.com/photo-1555041469-a586c61ea9bc?w=1200&h=630&fit=crop">
    <meta name="twitter:card" content="summary_large_image">
    
    <!-- Favicon (#13) -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect fill='%2310b981' rx='20' width='100' height='100'/><text x='50' y='68' font-size='50' text-anchor='middle' fill='white'>AI</text></svg>">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700;900&family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js"></script>
    <!-- Supabase SDK -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <style>
        * { font-family: 'Noto Sans SC', 'Inter', -apple-system, sans-serif; }
        
        @keyframes bounce-in {
            0% { transform: scale(0.5); opacity: 0; }
            70% { transform: scale(1.05); }
            100% { transform: scale(1); opacity: 1; }
        }
        .animate-bounce-in { animation: bounce-in 0.4s ease-out; }
        
        @keyframes slide-up {
            from { transform: translateY(100%); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        .animate-slide-up { animation: slide-up 0.3s ease-out; }
        
        @keyframes slide-in-right {
            from { transform: translateX(100%); }
            to { transform: translateX(0); }
        }
        .animate-slide-in-right { animation: slide-in-right 0.3s ease-out; }
        
        @keyframes fade-in {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .animate-fade-in { animation: fade-in 0.2s ease-out; }
        
        /* ToaståŠ¨ç”» (#15) */
        @keyframes toast-in {
            from { transform: translateY(-20px) translateX(-50%); opacity: 0; }
            to { transform: translateY(0) translateX(-50%); opacity: 1; }
        }
        @keyframes toast-out {
            from { transform: translateY(0) translateX(-50%); opacity: 1; }
            to { transform: translateY(-20px) translateX(-50%); opacity: 0; }
        }
        .toast-enter { animation: toast-in 0.3s ease-out; }
        .toast-exit { animation: toast-out 0.3s ease-out forwards; }
        
        /* å¤åˆ¶æˆåŠŸåŠ¨æ•ˆ (#17) */
        @keyframes checkmark {
            0% { transform: scale(0); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }
        .animate-checkmark { animation: checkmark 0.3s ease-out; }
        
        .brand-gradient {
            background: linear-gradient(to right, #059669, #2563eb); 
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            filter: drop-shadow(0 1px 1px rgba(0,0,0,0.05));
        }
        
        .btn-gradient {
            background: linear-gradient(to right, #10b981, #3b82f6);
        }

        .roadmap-item { position: relative; }
        .roadmap-item::before {
            content: '';
            position: absolute;
            left: 24px;
            top: 48px;
            bottom: -24px;
            width: 2px;
            background: linear-gradient(to bottom, #10b981, #e5e7eb);
        }
        .roadmap-item:last-child::before { display: none; }
        
        @keyframes pulse-dot {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.2); opacity: 0.8; }
        }
        .pulse-dot { animation: pulse-dot 2s ease-in-out infinite; }
        
        .order-code {
            font-family: 'Courier New', monospace;
            letter-spacing: 2px;
        }
        
        /* éª¨æ¶å± (#12) */
        @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }
        .skeleton {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: shimmer 1.5s infinite;
        }
        
        /* å›¾ç‰‡æ‡’åŠ è½½ (#11) */
        .lazy-image {
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        .lazy-image.loaded { opacity: 1; }
        
        /* è¡¨å•éªŒè¯ (#16) */
        .input-error {
            border-color: #ef4444 !important;
            background-color: #fef2f2 !important;
        }
        .error-message {
            color: #ef4444;
            font-size: 12px;
            margin-top: 4px;
        }
        
        /* V13: å½©è‰²åˆ†ç±»å›¾æ ‡ */
        .category-icon { transition: color 0.2s; }
        .cat-all .category-icon { color: #3B82F6; }
        .cat-furniture .category-icon { color: #F97316; }
        .cat-digital .category-icon { color: #8B5CF6; }
        .cat-clothing .category-icon { color: #EC4899; }
        .cat-baby .category-icon { color: #22C55E; }
        .cat-home .category-icon { color: #14B8A6; }
        .cat-books .category-icon { color: #F59E0B; }
        .cat-sports .category-icon { color: #06B6D4; }
        .cat-games .category-icon { color: #EF4444; }
        .cat-tools .category-icon { color: #64748B; }
        
        /* åˆ†ç±»é€‰ä¸­çŠ¶æ€èƒŒæ™¯è‰² */
        .category-btn.active.cat-all { background: #3B82F6 !important; }
        .category-btn.active.cat-furniture { background: #F97316 !important; }
        .category-btn.active.cat-digital { background: #8B5CF6 !important; }
        .category-btn.active.cat-clothing { background: #EC4899 !important; }
        .category-btn.active.cat-baby { background: #22C55E !important; }
        .category-btn.active.cat-home { background: #14B8A6 !important; }
        .category-btn.active.cat-books { background: #F59E0B !important; }
        .category-btn.active.cat-sports { background: #06B6D4 !important; }
        .category-btn.active.cat-games { background: #EF4444 !important; }
        .category-btn.active.cat-tools { background: #64748B !important; }
        .category-btn.active .category-icon { color: white !important; }
        
        /* åˆ†ç±»æ¨ªå‘æ»šåŠ¨ä¼˜åŒ– */
        .category-scroll {
            scrollbar-width: none;
            -ms-overflow-style: none;
        }
        .category-scroll::-webkit-scrollbar { display: none; }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Toastå®¹å™¨ (#15) -->
    <div id="toastContainer" class="fixed top-20 left-1/2 -translate-x-1/2 z-[100] pointer-events-none"></div>
    
    <!-- è¿”å›é¡¶éƒ¨æŒ‰é’® (#14) -->
    <button id="backToTop" onclick="window.scrollTo({top:0,behavior:'smooth'})" class="fixed bottom-6 right-6 z-50 w-12 h-12 btn-gradient rounded-full shadow-lg flex items-center justify-center text-white opacity-0 invisible transition-all duration-300 hover:shadow-xl hover:scale-110">
        <i data-lucide="chevron-up" class="w-6 h-6"></i>
    </button>

    <!-- å¯¼èˆªæ  -->
    <nav class="bg-white/90 backdrop-blur-md shadow-sm sticky top-0 z-40 transition-all border-b border-gray-100">
        <div class="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between">
            <!-- LogoåŒºåŸŸ (#1 ç§»åŠ¨ç«¯å“ç‰Œå) -->
            <div class="flex items-center gap-2 md:gap-3 cursor-pointer group" onclick="showPage('home')">
                <div class="w-10 h-10 md:w-12 md:h-12 btn-gradient rounded-xl flex items-center justify-center shadow-lg shadow-blue-500/20 group-hover:scale-105 transition-transform duration-300">
                    <i data-lucide="sparkles" class="w-5 h-5 md:w-7 md:h-7 text-white"></i>
                </div>
                
                <div class="flex flex-col justify-center -space-y-0.5">
                    <div class="flex items-center">
                        <!-- ç§»åŠ¨ç«¯æ˜¾ç¤º"AIæ™ºé€‰" -->
                        <span class="text-xl font-black brand-gradient leading-tight tracking-tight md:hidden">AIæ™ºé€‰</span>
                        <!-- PCç«¯æ˜¾ç¤ºå®Œæ•´åç§° -->
                        <span class="hidden md:inline text-2xl font-black brand-gradient leading-tight tracking-tight">AIæ™ºé€‰äºŒæ‰‹å¹³å°</span>
                    </div>
                    <!-- è‹±æ–‡å‰¯æ ‡é¢˜ä»…PCç«¯æ˜¾ç¤º V16-2: å…¨å¤§å†™+åŠ å®½å­—é—´è· -->
                    <span class="hidden md:block text-[10px] text-slate-600 font-bold uppercase tracking-widest scale-95 origin-left">
                        WISE SELECT
                    </span>
                </div>
            </div>
            
            <!-- PCç«¯å¯¼èˆª (#3 é«˜äº®å½“å‰é¡µ) -->
            <div class="hidden md:flex items-center gap-6 text-sm text-gray-600">
                <button onclick="showPage('home')" class="nav-link hover:text-blue-600 font-medium transition-colors" data-page="home">æµè§ˆå¸‚åœº</button>
                <button onclick="showPage('post')" class="nav-link hover:text-blue-600 font-medium transition-colors" data-page="post">å‘å¸ƒé—²ç½®</button>
                <button onclick="goToPricing()" class="hover:text-blue-600 font-medium transition-colors">æ”¶è´¹è¯´æ˜</button>
                <button onclick="showPage('my-order')" class="nav-link hover:text-blue-600 font-medium transition-colors" data-page="my-order">æˆ‘çš„å•†å“</button>
                <button onclick="showPage('faq')" class="nav-link hover:text-blue-600 font-medium transition-colors" data-page="faq">å¸¸è§é—®é¢˜</button>
            </div>

            <div class="flex items-center gap-3">
                <button onclick="showPage('post')" class="btn-gradient text-white px-4 md:px-6 py-2 md:py-2.5 rounded-full text-sm font-bold hover:shadow-lg hover:shadow-blue-500/30 transition-all flex items-center gap-2 transform hover:-translate-y-0.5">
                    <i data-lucide="upload" class="w-4 h-4"></i>
                    <span class="hidden sm:inline">å‘å¸ƒå®è´</span>
                    <span class="sm:hidden">å‘å¸ƒ</span>
                </button>
                
                <!-- æ±‰å ¡èœå•æŒ‰é’® (#2) -->
                <button onclick="toggleMobileMenu()" class="md:hidden w-10 h-10 flex items-center justify-center rounded-lg hover:bg-gray-100 transition-colors">
                    <i data-lucide="menu" class="w-6 h-6 text-gray-700" id="menuIcon"></i>
                </button>
            </div>
        </div>
    </nav>
    
    <!-- ç§»åŠ¨ç«¯æŠ½å±‰èœå• (#2) -->
    <div id="mobileMenuOverlay" class="fixed inset-0 bg-black/50 z-50 hidden" onclick="toggleMobileMenu()"></div>
    <div id="mobileMenu" class="fixed top-0 right-0 h-full w-72 bg-white z-50 transform translate-x-full transition-transform duration-300 shadow-2xl">
        <div class="p-4 border-b border-gray-100 flex items-center justify-between">
            <span class="font-bold text-lg brand-gradient">AIæ™ºé€‰</span>
            <button onclick="toggleMobileMenu()" class="w-10 h-10 flex items-center justify-center rounded-lg hover:bg-gray-100">
                <i data-lucide="x" class="w-6 h-6 text-gray-700"></i>
            </button>
        </div>
        <div class="p-4 space-y-2">
            <button onclick="showPage('home');toggleMobileMenu()" class="mobile-nav-link w-full text-left px-4 py-3 rounded-xl hover:bg-blue-50 hover:text-blue-600 font-medium transition-all flex items-center gap-3" data-page="home">
                <i data-lucide="home" class="w-5 h-5"></i> æµè§ˆå¸‚åœº
            </button>
            <button onclick="showPage('post');toggleMobileMenu()" class="mobile-nav-link w-full text-left px-4 py-3 rounded-xl hover:bg-blue-50 hover:text-blue-600 font-medium transition-all flex items-center gap-3" data-page="post">
                <i data-lucide="upload" class="w-5 h-5"></i> å‘å¸ƒé—²ç½®
            </button>
            <button onclick="goToPricing();toggleMobileMenu()" class="w-full text-left px-4 py-3 rounded-xl hover:bg-blue-50 hover:text-blue-600 font-medium transition-all flex items-center gap-3">
                <i data-lucide="tag" class="w-5 h-5"></i> æ”¶è´¹è¯´æ˜
            </button>
            <button onclick="showPage('my-order');toggleMobileMenu()" class="mobile-nav-link w-full text-left px-4 py-3 rounded-xl hover:bg-blue-50 hover:text-blue-600 font-medium transition-all flex items-center gap-3" data-page="my-order">
                <i data-lucide="package" class="w-5 h-5"></i> æˆ‘çš„å•†å“
            </button>
            <button onclick="showPage('faq');toggleMobileMenu()" class="mobile-nav-link w-full text-left px-4 py-3 rounded-xl hover:bg-blue-50 hover:text-blue-600 font-medium transition-all flex items-center gap-3" data-page="faq">
                <i data-lucide="help-circle" class="w-5 h-5"></i> å¸¸è§é—®é¢˜
            </button>
        </div>
        
        <!-- å®¢æœå…¥å£ (#20) -->
        <div class="absolute bottom-0 left-0 right-0 p-4 border-t border-gray-100 bg-gray-50">
            <div class="text-center">
                <p class="text-sm text-gray-500 mb-2">éœ€è¦å¸®åŠ©ï¼Ÿ</p>
                <button onclick="showContactModal()" class="w-full bg-blue-50 text-blue-600 py-2.5 rounded-xl font-medium flex items-center justify-center gap-2">
                    <i data-lucide="message-circle" class="w-4 h-4"></i>
                    è”ç³»å®¢æœ
                </button>
            </div>
        </div>
    </div>

    <!-- é¦–é¡µ -->
    <div id="page-home">
        <!-- HeroåŒºåŸŸ -->
        <section class="bg-gradient-to-br from-emerald-50 via-white to-blue-50 py-12 md:py-24 overflow-hidden relative">
            <div class="absolute top-20 right-10 w-72 h-72 bg-blue-200/30 rounded-full blur-3xl"></div>
            <div class="absolute bottom-10 left-10 w-96 h-96 bg-emerald-200/20 rounded-full blur-3xl"></div>
            
            <div class="max-w-6xl mx-auto px-4 relative">
                <div class="grid md:grid-cols-2 gap-8 md:gap-12 items-center">
                    <div>
                        <div class="inline-flex items-center gap-2 bg-blue-50 text-blue-700 px-4 py-1.5 rounded-full text-sm mb-6 border border-blue-100 font-medium">
                            <i data-lucide="sparkles" class="w-4 h-4 text-blue-500"></i>
                            AI æŒç»­è¿›åŒ–ä¸­
                        </div>
                        <h1 class="text-3xl md:text-5xl font-extrabold text-gray-900 leading-tight mb-6">
                            è®©é—²ç½®<span class="brand-gradient">é‡è·æ–°ç”Ÿ</span>
                        </h1>
                        <p class="text-gray-600 text-lg mb-4 leading-relaxed font-medium">
                            AIç²¾å‡†åŒ¹é…æ¨é€ï¼Œè®©å¥½ç‰©é‡è§å¯¹çš„äººã€‚
                        </p>
                        <p class="text-gray-500 mb-4">
                            æˆ‘ä»¬æ­£åœ¨æ‰“é€ æ›´æ™ºèƒ½çš„äºŒæ‰‹äº¤æ˜“ä½“éªŒï¼Œæ‚¨çš„æ¯ä¸€æ¬¡ä½¿ç”¨éƒ½åœ¨å¸®åŠ©AIå˜å¾—æ›´èªæ˜ã€‚
                        </p>
                        <!-- V14: å¼€ä¸šç¦åˆ©æ ‡è¯­ -->
                        <p class="text-emerald-600 font-semibold text-sm md:text-base mb-8 flex items-center gap-2">
                            <span class="animate-pulse">ğŸ‰</span>
                            å¼€ä¸šç¦åˆ©ï¼šé¦–2ä¸ªæœˆæˆäº¤é›¶ä½£é‡‘
                        </p>
                        <div class="flex flex-wrap gap-4">
                            <button onclick="showPage('post')" class="btn-gradient text-white px-8 py-3.5 rounded-full font-bold hover:shadow-xl hover:shadow-blue-500/30 transition-all flex items-center gap-2">
                                ç«‹å³å‘å¸ƒ
                                <i data-lucide="chevron-right" class="w-4 h-4"></i>
                            </button>
                            <button onclick="document.getElementById('ai-roadmap').scrollIntoView({ behavior: 'smooth' })" class="bg-white text-gray-700 px-8 py-3.5 rounded-full font-medium border border-gray-200 hover:border-blue-300 hover:text-blue-600 transition-all flex items-center gap-2">
                                <i data-lucide="rocket" class="w-4 h-4"></i>
                                æŸ¥çœ‹AIåŠŸèƒ½
                            </button>
                        </div>
                    </div>
                    
                    <div class="relative hidden md:block">
                        <div class="absolute -top-4 -left-4 w-full h-full bg-gradient-to-br from-emerald-400 to-blue-500 rounded-3xl rotate-3 opacity-20"></div>
                        <img src="https://images.unsplash.com/photo-1555041469-a586c61ea9bc?w=600&h=450&fit=crop" alt="ç²¾é€‰äºŒæ‰‹å¥½ç‰©" class="relative rounded-3xl shadow-2xl w-full object-cover transform hover:scale-[1.01] transition-transform duration-500 lazy-image" loading="lazy" onload="this.classList.add('loaded')">
                        <div class="absolute -bottom-4 -right-4 bg-white rounded-2xl shadow-xl p-4 flex items-center gap-3 animate-bounce-in border border-gray-100">
                            <div class="w-12 h-12 btn-gradient rounded-xl flex items-center justify-center">
                                <i data-lucide="brain" class="w-6 h-6 text-white"></i>
                            </div>
                            <div>
                                <p class="text-sm text-gray-500 font-medium">AIç²¾å‡†åŒ¹é…</p>
                                <p class="font-bold text-gray-800">è®©å¥½ç‰©é‡è§å¯¹çš„äºº</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- è¿ä½œæµç¨‹ -->
        <section id="how-it-works" class="py-16 md:py-20 bg-white">
            <div class="max-w-6xl mx-auto px-4">
                <div class="text-center mb-12">
                    <h2 class="text-2xl md:text-3xl font-bold text-gray-900 mb-4">è¿ä½œæµç¨‹</h2>
                    <p class="text-gray-500">ç®€å•ä¸‰æ­¥ï¼ŒAIåŠ©åŠ›äº¤æ˜“</p>
                </div>
                
                <div class="grid md:grid-cols-3 gap-6 md:gap-8">
                    <div class="relative group">
                        <div class="bg-gray-50 rounded-2xl p-6 md:p-8 hover:shadow-xl transition-all duration-300 hover:-translate-y-1">
                            <div class="w-12 h-12 md:w-14 md:h-14 bg-emerald-100 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform">
                                <i data-lucide="upload" class="w-6 h-6 md:w-7 md:h-7 text-emerald-600"></i>
                            </div>
                            <h3 class="text-lg md:text-xl font-bold text-gray-800 mb-3">å‘å¸ƒ</h3>
                            <p class="text-gray-500 leading-relaxed mb-3 text-sm md:text-base">æ‹ç…§ä¸Šä¼ ï¼ŒAIè‡ªåŠ¨è¯†åˆ«åˆ†ç±»ï¼Œæ™ºèƒ½ä¼˜åŒ–å±•ç¤º</p>
                            <span class="inline-flex items-center gap-1 text-xs bg-emerald-100 text-emerald-600 px-2 py-1 rounded-full font-medium">
                                <i data-lucide="check-circle" class="w-3 h-3"></i> å·²ä¸Šçº¿
                            </span>
                        </div>
                        <div class="hidden md:block absolute top-1/2 -right-4 transform -translate-y-1/2">
                            <i data-lucide="chevron-right" class="w-8 h-8 text-gray-300"></i>
                        </div>
                    </div>
                    <div class="relative group">
                        <div class="bg-gradient-to-br from-emerald-50 to-blue-50 rounded-2xl p-6 md:p-8 hover:shadow-xl transition-all duration-300 hover:-translate-y-1 border-2 border-blue-100">
                            <div class="w-12 h-12 md:w-14 md:h-14 btn-gradient rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform">
                                <i data-lucide="sparkles" class="w-6 h-6 md:w-7 md:h-7 text-white"></i>
                            </div>
                            <h3 class="text-lg md:text-xl font-bold text-gray-800 mb-3">AIæ™ºèƒ½åŒ¹é… âœ¨</h3>
                            <p class="text-gray-500 leading-relaxed mb-2 text-sm md:text-base">
                                <strong class="text-blue-600">å½“å‰ï¼š</strong>æ™ºèƒ½åˆ†ç±»ï¼Œä¼˜å…ˆå±•ç¤º
                            </p>
                            <p class="text-gray-400 text-xs md:text-sm mb-3">
                                <strong class="text-amber-500">å³å°†ï¼š</strong>åŸºäºåå¥½çš„ç²¾å‡†æ¨é€
                            </p>
                            <span class="inline-flex items-center gap-1 text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded-full font-medium">
                                <i data-lucide="zap" class="w-3 h-3"></i> æŒç»­è¿›åŒ–
                            </span>
                        </div>
                        <div class="hidden md:block absolute top-1/2 -right-4 transform -translate-y-1/2">
                            <i data-lucide="chevron-right" class="w-8 h-8 text-gray-300"></i>
                        </div>
                    </div>
                    <div class="relative group">
                        <div class="bg-gray-50 rounded-2xl p-6 md:p-8 hover:shadow-xl transition-all duration-300 hover:-translate-y-1">
                            <div class="w-12 h-12 md:w-14 md:h-14 bg-cyan-100 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform">
                                <i data-lucide="message-circle" class="w-6 h-6 md:w-7 md:h-7 text-cyan-600"></i>
                            </div>
                            <h3 class="text-lg md:text-xl font-bold text-gray-800 mb-3">ç›´æ¥è”ç³»</h3>
                            <p class="text-gray-500 leading-relaxed mb-3 text-sm md:text-base">ä¹°å®¶ç›´æ¥è”ç³»æ‚¨ï¼Œé›¶ä½£é‡‘æˆäº¤ï¼Œè®°å¾—æ ‡è®°"å·²æˆäº¤"</p>
                            <span class="inline-flex items-center gap-1 text-xs bg-emerald-100 text-emerald-600 px-2 py-1 rounded-full font-medium">
                                <i data-lucide="check-circle" class="w-3 h-3"></i> å·²ä¸Šçº¿
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- å•†å“æµè§ˆ -->
        <section class="py-12 md:py-16 bg-gray-50">
            <div class="max-w-6xl mx-auto px-4">
                <div class="flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-8">
                    <div>
                        <h2 class="text-xl md:text-2xl font-bold text-gray-900">æµè§ˆå¥½ç‰©</h2>
                        <p class="text-sm text-gray-500 mt-1">å‘ç°é™„è¿‘çš„ä¼˜è´¨é—²ç½®</p>
                    </div>
                    <div class="relative">
                        <i data-lucide="search" class="absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"></i>
                        <input type="text" placeholder="æœç´¢å®è´..." id="searchInput" oninput="filterProducts()" class="pl-10 pr-4 py-2 border border-gray-200 rounded-full text-sm focus:outline-none focus:border-blue-400 w-full sm:w-48 bg-white transition-all focus:w-full sm:focus:w-64 focus:shadow-md">
                    </div>
                </div>
                
                <div class="flex gap-2 md:gap-3 mb-8 overflow-x-auto pb-2 category-scroll" id="categoryTabs">
                    <button onclick="selectCategory('all')" class="category-btn cat-all active flex items-center gap-2 px-4 md:px-5 py-2.5 rounded-full text-sm font-semibold transition-all bg-blue-600 text-white shadow-lg shadow-blue-500/30 whitespace-nowrap" data-category="all">
                        <i data-lucide="tag" class="w-5 h-5 category-icon"></i>å…¨éƒ¨
                    </button>
                    <button onclick="selectCategory('å®¶å…·')" class="category-btn cat-furniture flex items-center gap-2 px-4 md:px-5 py-2.5 rounded-full text-sm font-semibold transition-all bg-white text-gray-600 hover:bg-gray-100 whitespace-nowrap" data-category="å®¶å…·">
                        <i data-lucide="sofa" class="w-5 h-5 category-icon"></i>å®¶å…·
                    </button>
                    <button onclick="selectCategory('æ•°ç ')" class="category-btn cat-digital flex items-center gap-2 px-4 md:px-5 py-2.5 rounded-full text-sm font-semibold transition-all bg-white text-gray-600 hover:bg-gray-100 whitespace-nowrap" data-category="æ•°ç ">
                        <i data-lucide="smartphone" class="w-5 h-5 category-icon"></i>æ•°ç 
                    </button>
                    <button onclick="selectCategory('æœé¥°')" class="category-btn cat-clothing flex items-center gap-2 px-4 md:px-5 py-2.5 rounded-full text-sm font-semibold transition-all bg-white text-gray-600 hover:bg-gray-100 whitespace-nowrap" data-category="æœé¥°">
                        <i data-lucide="shirt" class="w-5 h-5 category-icon"></i>æœé¥°
                    </button>
                    <button onclick="selectCategory('æ¯å©´')" class="category-btn cat-baby flex items-center gap-2 px-4 md:px-5 py-2.5 rounded-full text-sm font-semibold transition-all bg-white text-gray-600 hover:bg-gray-100 whitespace-nowrap" data-category="æ¯å©´">
                        <i data-lucide="baby" class="w-5 h-5 category-icon"></i>æ¯å©´
                    </button>
                    <button onclick="selectCategory('å®¶å±…')" class="category-btn cat-home flex items-center gap-2 px-4 md:px-5 py-2.5 rounded-full text-sm font-semibold transition-all bg-white text-gray-600 hover:bg-gray-100 whitespace-nowrap" data-category="å®¶å±…">
                        <i data-lucide="lamp" class="w-5 h-5 category-icon"></i>å®¶å±…
                    </button>
                    <button onclick="selectCategory('ä¹¦ç±')" class="category-btn cat-books flex items-center gap-2 px-4 md:px-5 py-2.5 rounded-full text-sm font-semibold transition-all bg-white text-gray-600 hover:bg-gray-100 whitespace-nowrap" data-category="ä¹¦ç±">
                        <i data-lucide="book-open" class="w-5 h-5 category-icon"></i>ä¹¦ç±
                    </button>
                    <button onclick="selectCategory('è¿åŠ¨')" class="category-btn cat-sports flex items-center gap-2 px-4 md:px-5 py-2.5 rounded-full text-sm font-semibold transition-all bg-white text-gray-600 hover:bg-gray-100 whitespace-nowrap" data-category="è¿åŠ¨">
                        <i data-lucide="bike" class="w-5 h-5 category-icon"></i>è¿åŠ¨
                    </button>
                    <button onclick="selectCategory('æ¸¸æˆ')" class="category-btn cat-games flex items-center gap-2 px-4 md:px-5 py-2.5 rounded-full text-sm font-semibold transition-all bg-white text-gray-600 hover:bg-gray-100 whitespace-nowrap" data-category="æ¸¸æˆ">
                        <i data-lucide="gamepad-2" class="w-5 h-5 category-icon"></i>æ¸¸æˆ
                    </button>
                    <button onclick="selectCategory('å·¥å…·')" class="category-btn cat-tools flex items-center gap-2 px-4 md:px-5 py-2.5 rounded-full text-sm font-semibold transition-all bg-white text-gray-600 hover:bg-gray-100 whitespace-nowrap" data-category="å·¥å…·">
                        <i data-lucide="wrench" class="w-5 h-5 category-icon"></i>å·¥å…·
                    </button>
                </div>
                
                <!-- éª¨æ¶å± (#12) -->
                <div id="productSkeleton" class="hidden grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-5">
                    <div class="bg-white rounded-2xl overflow-hidden border border-gray-100">
                        <div class="aspect-[4/3] skeleton"></div>
                        <div class="p-4 space-y-3">
                            <div class="h-4 skeleton rounded w-3/4"></div>
                            <div class="h-3 skeleton rounded w-1/2"></div>
                            <div class="h-10 skeleton rounded-xl"></div>
                        </div>
                    </div>
                    <div class="bg-white rounded-2xl overflow-hidden border border-gray-100">
                        <div class="aspect-[4/3] skeleton"></div>
                        <div class="p-4 space-y-3">
                            <div class="h-4 skeleton rounded w-3/4"></div>
                            <div class="h-3 skeleton rounded w-1/2"></div>
                            <div class="h-10 skeleton rounded-xl"></div>
                        </div>
                    </div>
                    <div class="bg-white rounded-2xl overflow-hidden border border-gray-100 hidden md:block">
                        <div class="aspect-[4/3] skeleton"></div>
                        <div class="p-4 space-y-3">
                            <div class="h-4 skeleton rounded w-3/4"></div>
                            <div class="h-3 skeleton rounded w-1/2"></div>
                            <div class="h-10 skeleton rounded-xl"></div>
                        </div>
                    </div>
                    <div class="bg-white rounded-2xl overflow-hidden border border-gray-100 hidden lg:block">
                        <div class="aspect-[4/3] skeleton"></div>
                        <div class="p-4 space-y-3">
                            <div class="h-4 skeleton rounded w-3/4"></div>
                            <div class="h-3 skeleton rounded w-1/2"></div>
                            <div class="h-10 skeleton rounded-xl"></div>
                        </div>
                    </div>
                </div>
                
                <!-- å•†å“ç½‘æ ¼ -->
                <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-5" id="productGrid"></div>
                
                <!-- ç©ºçŠ¶æ€ (#7) -->
                <div id="emptyState" class="hidden py-16 text-center">
                    <div class="w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i data-lucide="search-x" class="w-10 h-10 text-gray-400"></i>
                    </div>
                    <h3 class="text-lg font-bold text-gray-700 mb-2">æš‚æ— ç›¸å…³å•†å“</h3>
                    <p class="text-gray-500 text-sm mb-6">è¯•è¯•å…¶ä»–å…³é”®è¯ï¼Œæˆ–åˆ‡æ¢åˆ†ç±»çœ‹çœ‹</p>
                    <button onclick="resetSearch()" class="text-blue-600 font-medium hover:text-blue-700 flex items-center justify-center gap-2 mx-auto">
                        <i data-lucide="refresh-cw" class="w-4 h-4"></i>
                        é‡ç½®æœç´¢
                    </button>
                </div>
                
                <!-- V16: é†’ç›®çš„æ±‚è´­å…¥å£ -->
                <div class="mt-10">
                    <button onclick="showWantedModal()" class="w-full max-w-lg mx-auto block btn-gradient rounded-2xl p-5 md:p-6 text-white shadow-lg hover:shadow-xl hover:shadow-blue-500/30 transform hover:-translate-y-1 transition-all duration-300 group">
                        <div class="flex items-center justify-center gap-4">
                            <div class="w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform">
                                <i data-lucide="search" class="w-6 h-6"></i>
                            </div>
                            <div class="text-left">
                                <p class="text-lg font-bold">æ²¡æœ‰æ‰¾åˆ°æƒ³è¦çš„ï¼Ÿ</p>
                                <p class="text-blue-100 text-sm flex items-center gap-1">
                                    <span class="bg-white/20 px-2 py-0.5 rounded-full text-xs font-bold">å…è´¹</span>
                                    å‘å¸ƒæ±‚è´­ï¼Œæœ‰è´§ç¬¬ä¸€æ—¶é—´é€šçŸ¥æ‚¨
                                    <i data-lucide="arrow-right" class="w-4 h-4 group-hover:translate-x-1 transition-transform"></i>
                                </p>
                            </div>
                        </div>
                    </button>
                </div>
            </div>
        </section>

        <!-- æ”¶è´¹è¯´æ˜ -->
        <section id="pricing" class="py-16 md:py-20 bg-white">
            <div class="max-w-5xl mx-auto px-4">
                <div class="text-center mb-12">
                    <h2 class="text-2xl md:text-3xl font-bold text-gray-900 mb-4">é€æ˜å®šä»·</h2>
                    <p class="text-gray-500">ä»…æ”¶æä½å‘å¸ƒè´¹ï¼Œ<strong class="text-blue-600">æ— æˆäº¤ä½£é‡‘</strong>ï¼Œç®€å•é€æ˜</p>
                </div>
                
                <div class="grid md:grid-cols-3 gap-4 md:gap-6">
                    <div class="bg-gray-50 rounded-2xl p-5 md:p-6 border-2 border-transparent hover:border-blue-300 transition-all group hover:bg-white hover:shadow-lg">
                        <div class="text-sm text-blue-600 font-bold mb-2">Â¥500 ä»¥å†…</div>
                        <div class="flex items-baseline gap-1 mb-4">
                            <span class="text-3xl md:text-4xl font-black text-gray-900">Â¥2.9</span>
                            <span class="text-gray-500">/ä»¶</span>
                        </div>
                        <ul class="space-y-2 md:space-y-3 text-gray-600 text-sm">
                            <li class="flex items-center gap-2"><i data-lucide="check" class="w-4 h-4 text-emerald-500"></i> AIç²¾å‡†åŒ¹é…æ¨é€</li>
                            <li class="flex items-center gap-2"><i data-lucide="check" class="w-4 h-4 text-emerald-500"></i> 30å¤©å±•ç¤ºæœŸ</li>
                            <li class="flex items-center gap-2"><i data-lucide="check" class="w-4 h-4 text-emerald-500"></i> æ— æˆäº¤ä½£é‡‘</li>
                            <li class="flex items-center gap-2"><i data-lucide="check" class="w-4 h-4 text-emerald-500"></i> å¯å»¶æœŸç»­å±•</li>
                        </ul>
                    </div>
                    
                    <div class="bg-white rounded-2xl p-5 md:p-6 shadow-xl border-2 border-blue-400 transition-all relative transform hover:-translate-y-1">
                        <div class="absolute -top-3 left-1/2 -translate-x-1/2 bg-blue-500 text-white text-xs font-bold px-3 py-1 rounded-full">çƒ­é—¨</div>
                        <div class="text-sm text-blue-600 font-bold mb-2">Â¥500 - Â¥3000</div>
                        <div class="flex items-baseline gap-1 mb-4">
                            <span class="text-3xl md:text-4xl font-black text-gray-900">Â¥3.9</span>
                            <span class="text-gray-500">/ä»¶</span>
                        </div>
                        <ul class="space-y-2 md:space-y-3 text-gray-600 text-sm">
                            <li class="flex items-center gap-2"><i data-lucide="check" class="w-4 h-4 text-emerald-500"></i> AIç²¾å‡†åŒ¹é…æ¨é€</li>
                            <li class="flex items-center gap-2"><i data-lucide="check" class="w-4 h-4 text-emerald-500"></i> 45å¤©å±•ç¤ºæœŸ</li>
                            <li class="flex items-center gap-2"><i data-lucide="check" class="w-4 h-4 text-emerald-500"></i> æ— æˆäº¤ä½£é‡‘</li>
                            <li class="flex items-center gap-2"><i data-lucide="check" class="w-4 h-4 text-emerald-500"></i> å¯å»¶æœŸç»­å±•</li>
                        </ul>
                    </div>
                    
                    <div class="btn-gradient rounded-2xl p-5 md:p-6 shadow-lg text-white relative overflow-hidden transform hover:-translate-y-1 transition-all">
                        <div class="absolute top-0 right-0 bg-amber-400 text-amber-900 text-xs font-bold px-3 py-1 rounded-bl-xl">æ¨è</div>
                        <div class="text-blue-50 font-bold mb-2">Â¥3000 ä»¥ä¸Š</div>
                        <div class="flex items-baseline gap-1 mb-4">
                            <span class="text-3xl md:text-4xl font-black">Â¥5.9</span>
                            <span class="text-blue-50">/ä»¶</span>
                        </div>
                        <ul class="space-y-2 md:space-y-3 text-blue-50 text-sm">
                            <li class="flex items-center gap-2"><i data-lucide="check" class="w-4 h-4"></i> AIç²¾å‡†åŒ¹é…æ¨é€</li>
                            <li class="flex items-center gap-2"><i data-lucide="check" class="w-4 h-4"></i> 60å¤©å±•ç¤ºæœŸ</li>
                            <li class="flex items-center gap-2"><i data-lucide="check" class="w-4 h-4"></i> æ— æˆäº¤ä½£é‡‘</li>
                            <li class="flex items-center gap-2"><i data-lucide="star" class="w-4 h-4"></i> é¦–é¡µä¼˜å…ˆå±•ç¤º</li>
                        </ul>
                    </div>
                </div>

                <div class="mt-8 bg-gray-50 rounded-xl p-4 text-center">
                    <p class="text-sm text-gray-500">
                        <i data-lucide="info" class="w-4 h-4 inline mr-1 text-blue-500"></i>
                        å•†å“åˆ°æœŸå‰å¯ç”³è¯·å»¶æœŸï¼šâ‰¤500å…ƒ Â¥1.9/15å¤©ï¼Œ500-3000å…ƒ Â¥2.9/20å¤©ï¼Œ>3000å…ƒ Â¥3.9/30å¤©
                    </p>
                </div>
                
                <!-- V14: é›¶ä½£é‡‘æ‰¿è¯ºæ¿å— -->
                <div class="mt-8 bg-gradient-to-r from-emerald-50 to-blue-50 rounded-2xl p-5 md:p-6 border border-emerald-200">
                    <div class="flex items-center gap-3 mb-4">
                        <div class="w-12 h-12 bg-emerald-500 rounded-full flex items-center justify-center flex-shrink-0">
                            <i data-lucide="badge-check" class="w-6 h-6 text-white"></i>
                        </div>
                        <div>
                            <h3 class="text-lg font-bold text-gray-900">æ™ºé€‰æ‰¿è¯ºï¼šé›¶ä½£é‡‘çª—å£æœŸ</h3>
                            <p class="text-sm text-gray-500">å¹³å°ä¸Šçº¿é¦–2ä¸ªæœˆ</p>
                        </div>
                    </div>
                    
                    <div class="grid md:grid-cols-3 gap-4 text-sm mb-4">
                        <div class="flex items-start gap-2">
                            <i data-lucide="check-circle" class="w-5 h-5 text-emerald-500 flex-shrink-0 mt-0.5"></i>
                            <div>
                                <span class="font-bold text-gray-800">é›¶ä½£é‡‘</span>
                                <p class="text-gray-500">æˆäº¤é‡‘é¢100%å½’ä½ </p>
                            </div>
                        </div>
                        <div class="flex items-start gap-2">
                            <i data-lucide="check-circle" class="w-5 h-5 text-emerald-500 flex-shrink-0 mt-0.5"></i>
                            <div>
                                <span class="font-bold text-gray-800">é€æ˜å®šä»·</span>
                                <p class="text-gray-500">ä»…æ”¶å‘å¸ƒè´¹ï¼Œæ— éšè—è´¹ç”¨</p>
                            </div>
                        </div>
                        <div class="flex items-start gap-2">
                            <i data-lucide="check-circle" class="w-5 h-5 text-emerald-500 flex-shrink-0 mt-0.5"></i>
                            <div>
                                <span class="font-bold text-gray-800">èŠ‚æ—¥ç¦åˆ©</span>
                                <p class="text-gray-500">ä¸å®šæœŸæŠ½å¥–é€å¥½ç¤¼</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-amber-50 border border-amber-200 rounded-xl p-3 flex items-start gap-2">
                        <i data-lucide="clock" class="w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"></i>
                        <div class="text-sm">
                            <span class="font-bold text-amber-800">é™æ—¶æ”¿ç­–ï¼š</span>
                            <span class="text-amber-700">2ä¸ªæœˆåå¯ç”¨AIæ™ºèƒ½å®šä»·ï¼Œæ‰¿è¯ºå§‹ç»ˆä¼˜äºè¡Œä¸šæ°´å¹³ã€‚è¶é›¶ä½£é‡‘çª—å£æœŸï¼ŒæŠ“ç´§å‘å¸ƒï¼</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- AIåŠŸèƒ½è·¯çº¿å›¾ -->
        <section id="ai-roadmap" class="py-16 md:py-20 bg-gradient-to-br from-gray-900 to-gray-800 text-white">
            <div class="max-w-4xl mx-auto px-4">
                <div class="text-center mb-12">
                    <div class="inline-flex items-center gap-2 bg-blue-500/20 text-blue-300 px-4 py-1.5 rounded-full text-sm mb-4 border border-blue-500/30">
                        <i data-lucide="rocket" class="w-4 h-4"></i>
                        åŠŸèƒ½è·¯çº¿å›¾
                    </div>
                    <h2 class="text-2xl md:text-3xl font-bold mb-4">AI åŠŸèƒ½æŒç»­è¿›åŒ–ä¸­</h2>
                    <p class="text-gray-400">æˆ‘ä»¬æ­£åœ¨ä¸€æ­¥æ­¥å®ç°æ›´æ™ºèƒ½çš„åŒ¹é…ä½“éªŒ</p>
                </div>
                
                <div class="space-y-6">
                    <div class="roadmap-item">
                        <div class="flex gap-4">
                            <div class="flex-shrink-0 w-12 h-12 bg-emerald-500 rounded-xl flex items-center justify-center">
                                <i data-lucide="check" class="w-6 h-6 text-white"></i>
                            </div>
                            <div class="flex-1 bg-white/10 rounded-xl p-4 md:p-5">
                                <div class="flex items-center gap-3 mb-2">
                                    <span class="text-xs bg-emerald-500 text-white px-2 py-0.5 rounded-full font-medium">âœ… å·²ä¸Šçº¿</span>
                                    <h4 class="font-bold text-base md:text-lg">æ™ºèƒ½åˆ†ç±»</h4>
                                </div>
                                <p class="text-gray-300 text-sm">AIè‡ªåŠ¨è¯†åˆ«å•†å“ç±»å‹ï¼Œå½’å…¥æœ€ä½³åˆ†ç±»ï¼Œæ–¹ä¾¿ä¹°å®¶ç²¾å‡†æœç´¢</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="roadmap-item">
                        <div class="flex gap-4">
                            <div class="flex-shrink-0 w-12 h-12 bg-emerald-500 rounded-xl flex items-center justify-center">
                                <i data-lucide="check" class="w-6 h-6 text-white"></i>
                            </div>
                            <div class="flex-1 bg-white/10 rounded-xl p-4 md:p-5">
                                <div class="flex items-center gap-3 mb-2">
                                    <span class="text-xs bg-emerald-500 text-white px-2 py-0.5 rounded-full font-medium">âœ… å·²ä¸Šçº¿</span>
                                    <h4 class="font-bold text-base md:text-lg">æ™ºèƒ½å±•ç¤ºæ’åº</h4>
                                </div>
                                <p class="text-gray-300 text-sm">æ–°å‘å¸ƒå•†å“è·å¾—ä¼˜å…ˆå±•ç¤ºï¼Œé«˜ä»·å•†å“äº«å—é¦–é¡µæ¨èä½</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="roadmap-item">
                        <div class="flex gap-4">
                            <div class="flex-shrink-0 w-12 h-12 bg-amber-500 rounded-xl flex items-center justify-center pulse-dot">
                                <i data-lucide="zap" class="w-6 h-6 text-white"></i>
                            </div>
                            <div class="flex-1 bg-white/10 rounded-xl p-4 md:p-5 border border-amber-500/30">
                                <div class="flex items-center gap-3 mb-2">
                                    <span class="text-xs bg-amber-500 text-white px-2 py-0.5 rounded-full font-medium">ğŸ”¥ ç°åº¦æµ‹è¯•ä¸­</span>
                                    <h4 class="font-bold text-base md:text-lg">æµè§ˆåå¥½ä¸ç§åŸŸæ¨é€</h4>
                                </div>
                                <p class="text-gray-300 text-sm mb-3">åˆ†æä¹°å®¶æµè§ˆä¹ æƒ¯å’Œåœç•™æ—¶é—´ï¼Œå­¦ä¹ ç”¨æˆ·åå¥½ç‰¹å¾ã€‚</p>
                                <div class="bg-amber-500/10 rounded-lg p-3 border border-amber-500/20">
                                    <p class="text-amber-300 text-xs font-bold mb-2">âš¡ï¸ ç‰¹åˆ«æµ‹è¯•æœåŠ¡ï¼š</p>
                                    <ul class="text-xs text-amber-100 space-y-1.5">
                                        <li class="flex items-start gap-1.5">
                                            <i data-lucide="target" class="w-3.5 h-3.5 mt-0.5 text-amber-400"></i>
                                            ç›®å‰å¯¹éƒ¨åˆ†å•†å“åšAIç²¾å‡†æ¨é€é”€å”®
                                        </li>
                                        <li class="flex items-start gap-1.5">
                                            <i data-lucide="users" class="w-3.5 h-3.5 mt-0.5 text-amber-400"></i>
                                            VIPç§åŸŸæµé‡æ± åˆ†å‘
                                        </li>
                                    </ul>
                                </div>
                                <p class="text-amber-400 text-xs mt-3">æµ‹è¯•æœŸï¼š2026å¹´1æœˆ - 2æœˆ</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="roadmap-item">
                        <div class="flex gap-4">
                            <div class="flex-shrink-0 w-12 h-12 bg-gray-600 rounded-xl flex items-center justify-center">
                                <i data-lucide="bell" class="w-6 h-6 text-gray-300"></i>
                            </div>
                            <div class="flex-1 bg-white/5 rounded-xl p-4 md:p-5 border border-gray-600">
                                <div class="flex items-center gap-3 mb-2">
                                    <span class="text-xs bg-gray-600 text-gray-200 px-2 py-0.5 rounded-full font-medium">ğŸš€ å³å°†æ¨å‡º</span>
                                    <h4 class="font-bold text-base md:text-lg text-gray-300">ç²¾å‡†æ¨é€é€šçŸ¥</h4>
                                </div>
                                <p class="text-gray-400 text-sm">å½“æœ‰åŒ¹é…æ‚¨å•†å“çš„ä¹°å®¶æ—¶ï¼Œä¸»åŠ¨æ¨é€æ¶ˆæ¯æé†’</p>
                                <p class="text-gray-500 text-xs mt-2">é¢„è®¡ä¸Šçº¿ï¼š2026å¹´3æœˆ</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="roadmap-item">
                        <div class="flex gap-4">
                            <div class="flex-shrink-0 w-12 h-12 bg-gray-600 rounded-xl flex items-center justify-center">
                                <i data-lucide="calculator" class="w-6 h-6 text-gray-300"></i>
                            </div>
                            <div class="flex-1 bg-white/5 rounded-xl p-4 md:p-5 border border-gray-600">
                                <div class="flex items-center gap-3 mb-2">
                                    <span class="text-xs bg-gray-600 text-gray-200 px-2 py-0.5 rounded-full font-medium">ğŸš€ è§„åˆ’ä¸­</span>
                                    <h4 class="font-bold text-base md:text-lg text-gray-300">æ™ºèƒ½å®šä»·å»ºè®®</h4>
                                </div>
                                <p class="text-gray-400 text-sm">AIåˆ†æå¸‚åœºè¡Œæƒ…å’Œæˆäº¤æ•°æ®ï¼Œç»™å‡ºæœ€ä¼˜å®šä»·å»ºè®®</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="mt-12 bg-gradient-to-r from-emerald-500/20 to-blue-500/20 rounded-2xl p-6 text-center border border-blue-500/30">
                    <div class="flex items-center justify-center gap-2 mb-3">
                        <i data-lucide="heart" class="w-5 h-5 text-emerald-400"></i>
                        <span class="font-bold text-lg">ä¸æˆ‘ä»¬ä¸€èµ·æˆé•¿</span>
                    </div>
                    <p class="text-gray-300 text-sm mb-4">
                        æ‚¨çš„æ¯ä¸€æ¬¡å‘å¸ƒã€æ¯ä¸€æ¬¡æµè§ˆï¼Œéƒ½åœ¨å¸®åŠ©AIå­¦ä¹ å’Œè¿›åŒ–ã€‚<br>
                        æ„Ÿè°¢æ‚¨æˆä¸ºAIæ™ºé€‰çš„æ—©æœŸç”¨æˆ·ï¼
                    </p>
                    <button onclick="showPage('post')" class="btn-gradient text-white px-6 py-2.5 rounded-full font-medium hover:shadow-lg transition-all">
                        ç«‹å³å‘å¸ƒï¼ŒåŠ©åŠ›AIæˆé•¿
                    </button>
                </div>
            </div>
        </section>

        <!-- CTAåŒºåŸŸ -->
        <section class="py-16 md:py-20 btn-gradient relative overflow-hidden">
            <div class="absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg width=\"60\" height=\"60\" viewBox=\"0 0 60 60\" xmlns=\"http://www.w3.org/2000/svg\"%3E%3Cg fill=\"none\" fill-rule=\"evenodd\"%3E%3Cg fill=\"%23ffffff\" fill-opacity=\"0.1\"%3E%3Cpath d=\"M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z\"/%3E%3C/g%3E%3C/g%3E%3C/svg%3E')] opacity-30"></div>
            <div class="max-w-4xl mx-auto px-4 text-center relative">
                <h2 class="text-2xl md:text-4xl font-bold text-white mb-4">æˆä¸ºAIçš„è®­ç»ƒå¸ˆ</h2>
                <p class="text-blue-100 text-base md:text-lg mb-8">æ‚¨çš„æ¯ä¸€æ¬¡ä½¿ç”¨ï¼Œéƒ½åœ¨å¸®åŠ©AIæ™ºé€‰å˜å¾—æ›´æ™ºèƒ½</p>
                <div class="flex flex-wrap justify-center gap-4">
                    <button onclick="showPage('post')" class="bg-white text-blue-600 px-8 py-3.5 rounded-full font-bold hover:shadow-xl transition-all flex items-center gap-2">
                        ç«‹å³å‘å¸ƒ
                        <i data-lucide="chevron-right" class="w-4 h-4"></i>
                    </button>
                    <button onclick="showPage('my-order')" class="bg-transparent text-white px-8 py-3.5 rounded-full font-medium border-2 border-white/50 hover:bg-white/10 transition-all">
                        æŸ¥è¯¢æˆ‘çš„å•†å“
                    </button>
                </div>
            </div>
        </section>

        <!-- é¡µè„š -->
        <footer class="bg-gray-900 text-gray-400 py-12">
            <div class="max-w-6xl mx-auto px-4">
                <div class="grid grid-cols-2 md:grid-cols-4 gap-8 mb-8">
                    <div class="col-span-2 md:col-span-1">
                        <div class="flex items-center gap-3 mb-4">
                            <div class="w-10 h-10 btn-gradient rounded-xl flex items-center justify-center">
                                <i data-lucide="sparkles" class="w-5 h-5 text-white"></i>
                            </div>
                            <div class="flex flex-col">
                                <span class="text-lg font-bold text-white tracking-wide">AIæ™ºé€‰</span>
                                <span class="text-[10px] text-gray-500 uppercase tracking-widest font-bold">WISE SELECT</span>
                            </div>
                        </div>
                        <p class="text-sm">AIç²¾å‡†åŒ¹é…æ¨é€çš„äºŒæ‰‹äº¤æ˜“å¹³å°<br>è®©å¥½ç‰©é‡è§å¯¹çš„äºº</p>
                        
                        <!-- å®¢æœå…¥å£ (#20) -->
                        <button onclick="showContactModal()" class="mt-4 text-sm text-blue-400 hover:text-blue-300 flex items-center gap-2">
                            <i data-lucide="message-circle" class="w-4 h-4"></i>
                            è”ç³»å®¢æœ
                        </button>
                    </div>
                    <div>
                        <h5 class="text-white font-medium mb-4">å¸‚åœº</h5>
                        <ul class="space-y-2 text-sm">
                            <li><a href="#" onclick="showPage('home')" class="hover:text-blue-400">æµè§ˆå…¨éƒ¨</a></li>
                            <li><a href="#" class="hover:text-blue-400">çƒ­é—¨å®è´</a></li>
                            <li><a href="#" class="hover:text-blue-400">æœ€æ–°å‘å¸ƒ</a></li>
                        </ul>
                    </div>
                    <div>
                        <h5 class="text-white font-medium mb-4">å¸®åŠ©</h5>
                        <ul class="space-y-2 text-sm">
                            <li><a href="#" onclick="showPage('faq')" class="hover:text-blue-400">å¸¸è§é—®é¢˜</a></li>
                            <li><a href="#" onclick="document.getElementById('ai-roadmap').scrollIntoView({ behavior: 'smooth' })" class="hover:text-blue-400">AIåŠŸèƒ½ä»‹ç»</a></li>
                            <li><a href="#" onclick="showPage('my-order')" class="hover:text-blue-400">æŸ¥è¯¢æˆ‘çš„å•†å“</a></li>
                        </ul>
                    </div>
                    <div>
                        <h5 class="text-white font-medium mb-4">æ³•å¾‹</h5>
                        <ul class="space-y-2 text-sm">
                            <li><a href="#" class="hover:text-blue-400">æœåŠ¡æ¡æ¬¾</a></li>
                            <li><a href="#" class="hover:text-blue-400">éšç§æ”¿ç­–</a></li>
                            <li><a href="#" class="hover:text-blue-400">å…è´£å£°æ˜</a></li>
                        </ul>
                    </div>
                </div>
                <div class="border-t border-gray-800 pt-8 text-center text-sm">
                    <p>Â© 2026 AIæ™ºé€‰äºŒæ‰‹å¹³å° Â· WISE SELECT - All Rights Reserved</p>
                    <p class="mt-2 text-xs text-gray-500">
                        æœ¬å¹³å°æä¾›ä¿¡æ¯å±•ç¤ºå’ŒAIç²¾å‡†åŒ¹é…æ¨é€æœåŠ¡ï¼Œæœ€ç»ˆæˆäº¤å–å†³äºå•†å“æœ¬èº«å’Œå¸‚åœºéœ€æ±‚ã€‚AIåŠŸèƒ½æŒç»­ä¼˜åŒ–ä¸­ï¼Œæ„Ÿè°¢æ‚¨çš„æ”¯æŒä¸åé¦ˆã€‚
                    </p>
                </div>
            </div>
        </footer>
    </div>

    <!-- å‘å¸ƒé¡µé¢ -->
    <div id="page-post" class="hidden min-h-screen bg-gray-50 py-6 md:py-8">
        <div class="max-w-2xl mx-auto px-4">
            <div class="mb-6 md:mb-8">
                <span class="text-sm text-blue-600 bg-blue-50 px-3 py-1 rounded-full font-bold">å¿«é€Ÿå‘å¸ƒ</span>
                <h1 class="text-2xl md:text-3xl font-bold text-gray-900 mt-4 mb-2">å‘å¸ƒæ‚¨çš„é—²ç½®å®è´</h1>
                <p class="text-gray-500 text-sm md:text-base">æ— éœ€æ³¨å†Œï¼ŒAIç²¾å‡†åŒ¹é…æ¨é€ï¼Œè·å¾—ä¸“å±è®¢å•ç ç®¡ç†å•†å“</p>
            </div>
            
            <!-- V14: é›¶ä½£é‡‘æç¤ºæ¡ -->
            <div class="bg-gradient-to-r from-emerald-500 to-teal-500 rounded-xl p-3 mb-4 flex items-center justify-center gap-2 text-white shadow-lg">
                <i data-lucide="gift" class="w-5 h-5"></i>
                <span class="text-sm font-medium">é™æ—¶ç¦åˆ©ï¼šé¦–2ä¸ªæœˆæˆäº¤é›¶ä½£é‡‘ï¼Œå–å‡ºå¤šå°‘éƒ½æ˜¯ä½ çš„ï¼</span>
            </div>
            
            <div class="bg-white rounded-2xl p-5 md:p-6 shadow-sm mb-4 md:mb-6">
                <div class="flex items-center gap-3 mb-4">
                    <div class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold text-sm">1</div>
                    <h2 class="text-lg font-bold text-gray-800">ä¸Šä¼ å›¾ç‰‡</h2>
                    <span class="text-xs text-gray-400 ml-auto">æœ€å¤š3å¼ </span>
                </div>
                <div class="bg-gradient-to-br from-amber-50 to-orange-50 rounded-xl p-6 md:p-8 text-center border-2 border-dashed border-amber-200 relative overflow-hidden" id="uploadArea">
                    <input type="file" accept="image/*" multiple onchange="handleImageUpload(event)" class="absolute inset-0 opacity-0 cursor-pointer" id="imageInput">
                    <div id="uploadPlaceholder">
                        <i data-lucide="camera" class="w-10 h-10 md:w-12 md:h-12 text-amber-400 mx-auto mb-3"></i>
                        <p class="text-amber-700 font-medium">æ‹–æ‹½å›¾ç‰‡æˆ–ç‚¹å‡»ä¸Šä¼ </p>
                        <p class="text-amber-500 text-sm mt-1">æ”¯æŒ jpg/pngï¼Œè‡ªåŠ¨å‹ç¼©ä¼˜åŒ–</p>
                    </div>
                    <div id="imagePreview" class="hidden flex flex-wrap justify-center gap-3 md:gap-4"></div>
                </div>
                <div id="compressProgress" class="hidden mt-3">
                    <div class="flex items-center gap-2 text-sm text-blue-600">
                        <div class="w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"></div>
                        <span id="compressText">æ­£åœ¨ä¼˜åŒ–å›¾ç‰‡...</span>
                    </div>
                </div>
            </div>

            <div class="bg-white rounded-2xl p-5 md:p-6 shadow-sm mb-4 md:mb-6">
                <div class="flex items-center gap-3 mb-4">
                    <div class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold text-sm">2</div>
                    <h2 class="text-lg font-bold text-gray-800">å®è´è¯¦æƒ…</h2>
                    <span class="text-xs bg-blue-100 text-blue-600 px-2 py-0.5 rounded-full ml-auto">AIè‡ªåŠ¨åˆ†ç±»</span>
                </div>
                <div class="space-y-4">
                    <div>
                        <label class="text-sm text-gray-600 mb-1 block">ç‰©å“åç§° <span class="text-red-500">*</span></label>
                        <input type="text" id="itemName" placeholder="ä¾‹å¦‚ï¼šåŒ—æ¬§é£æ©¡æœ¨è¾¹å‡ " class="w-full px-4 py-3 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:border-blue-400 focus:bg-white transition-all">
                        <p id="itemNameError" class="error-message hidden">è¯·è¾“å…¥ç‰©å“åç§°</p>
                    </div>
                    <div>
                        <label class="text-sm text-gray-600 mb-1 block">ä»·æ ¼ <span class="text-red-500">*</span></label>
                        <div class="relative">
                            <span class="absolute left-4 top-1/2 -translate-y-1/2 text-gray-400">Â¥</span>
                            <input type="number" id="itemPrice" placeholder="0.00" oninput="updatePriceInfo()" class="w-full pl-8 pr-4 py-3 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:border-blue-400 focus:bg-white transition-all">
                        </div>
                        <p id="priceHint" class="text-xs text-blue-600 mt-1 hidden"></p>
                        <p id="itemPriceError" class="error-message hidden">è¯·è¾“å…¥ä»·æ ¼</p>
                    </div>
                    <div>
                        <label class="text-sm text-gray-600 mb-1 block">åˆ†ç±» <span class="text-red-500">*</span></label>
                        <select id="itemCategory" class="w-full px-4 py-3 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:border-blue-400 focus:bg-white transition-all">
                            <option value="">è¯·é€‰æ‹©åˆ†ç±»</option>
                            <option value="å®¶å…·">ğŸ›‹ï¸ å®¶å…·</option>
                            <option value="æ•°ç ">ğŸ“± æ•°ç </option>
                            <option value="æœé¥°">ğŸ‘• æœé¥°</option>
                            <option value="æ¯å©´">ğŸ‘¶ æ¯å©´</option>
                            <option value="å®¶å±…">ğŸ  å®¶å±…</option>
                            <option value="ä¹¦ç±">ğŸ“š ä¹¦ç±</option>
                            <option value="è¿åŠ¨">ğŸš² è¿åŠ¨</option>
                            <option value="æ¸¸æˆ">ğŸ® æ¸¸æˆ</option>
                            <option value="å·¥å…·">ğŸ”§ å·¥å…·</option>
                        </select>
                        <p id="itemCategoryError" class="error-message hidden">è¯·é€‰æ‹©åˆ†ç±»</p>
                    </div>
                    <div>
                        <label class="text-sm text-gray-600 mb-1 block">æè¿°</label>
                        <textarea id="itemDesc" placeholder="è¯·ä»‹ç»ç‰©å“çš„æ–°æ—§ç¨‹åº¦ã€å°ºå¯¸ç­‰..." rows="3" class="w-full px-4 py-3 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:border-blue-400 focus:bg-white transition-all resize-none"></textarea>
                    </div>
                </div>
            </div>

            <div class="bg-blue-50 rounded-2xl p-5 md:p-6 mb-4 md:mb-6 border border-blue-100">
                <div class="flex items-center gap-3 mb-4">
                    <div class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold text-sm">3</div>
                    <h2 class="text-lg font-bold text-gray-800">è”ç³»æ–¹å¼</h2>
                </div>
                <p class="text-sm text-gray-500 mb-4">ä¹°å®¶å°†ç›´æ¥è”ç³»æ‚¨ï¼Œå¹³å°ä¸æ”¶å–ä»»ä½•äº¤æ˜“ä½£é‡‘</p>
                <div class="grid md:grid-cols-2 gap-4">
                    <div>
                        <label class="text-sm text-blue-700 mb-1 block flex items-center gap-1">
                            <i data-lucide="phone" class="w-4 h-4"></i> ç”µè¯å·ç 
                        </label>
                        <input type="tel" id="phone" placeholder="è¯·è¾“å…¥ç”µè¯å·ç " class="w-full px-4 py-3 bg-white rounded-xl border border-blue-200 focus:outline-none focus:border-blue-400 transition-all">
                    </div>
                    <div>
                        <label class="text-sm text-blue-700 mb-1 block flex items-center gap-1">
                            <i data-lucide="message-square" class="w-4 h-4"></i> å¾®ä¿¡å·
                        </label>
                        <input type="text" id="wechat" placeholder="è¯·è¾“å…¥å¾®ä¿¡å·" class="w-full px-4 py-3 bg-white rounded-xl border border-blue-200 focus:outline-none focus:border-blue-400 transition-all">
                    </div>
                </div>
                <p id="contactError" class="error-message hidden mt-2">è¯·è‡³å°‘å¡«å†™ä¸€ç§è”ç³»æ–¹å¼</p>
                <div class="mt-4 bg-blue-100/50 rounded-lg p-3 text-xs text-blue-700 flex items-start gap-2">
                    <i data-lucide="shield" class="w-4 h-4 flex-shrink-0 mt-0.5"></i>
                    <span>éšç§è¯´æ˜ï¼šæ‚¨çš„è”ç³»ä¿¡æ¯ä»…å¯¹æœ‰æ„å‘çš„ä¹°å®¶å¯è§ã€‚</span>
                </div>
            </div>

            <div class="bg-gradient-to-r from-emerald-500 to-blue-500 rounded-2xl p-5 md:p-6 flex flex-col sm:flex-row items-center justify-between gap-4">
                <div class="text-white text-center sm:text-left">
                    <p class="text-sm text-blue-100">å‘å¸ƒè´¹ç”¨</p>
                    <p class="text-3xl font-bold" id="publishFee">Â¥0.00</p>
                    <p class="text-xs text-blue-200 mt-1" id="displayDays"></p>
                </div>
                <button onclick="handleSubmit()" class="w-full sm:w-auto bg-white text-blue-600 px-8 py-3.5 rounded-full font-bold hover:shadow-xl transition-all flex items-center justify-center gap-2">
                    æ”¯ä»˜å¹¶å‘å¸ƒ
                    <i data-lucide="chevron-right" class="w-5 h-5"></i>
                </button>
            </div>

            <div class="mt-6 text-center">
                <p class="text-sm text-gray-500">
                    å‘å¸ƒæˆåŠŸåå°†è·å¾—<strong class="text-blue-600">ä¸“å±è®¢å•ç </strong>ï¼Œå¯ç”¨äºæŸ¥è¯¢çŠ¶æ€ã€æ ‡è®°æˆäº¤ã€ç”³è¯·å»¶æœŸ
                </p>
            </div>
        </div>
    </div>

    <!-- æˆ‘çš„å•†å“é¡µé¢ -->
    <div id="page-my-order" class="hidden min-h-screen bg-gray-50 py-6 md:py-8">
        <div class="max-w-2xl mx-auto px-4">
            <div class="mb-6 md:mb-8">
                <h1 class="text-2xl md:text-3xl font-bold text-gray-900 mb-2">æˆ‘çš„å•†å“</h1>
                <p class="text-gray-500 text-sm md:text-base">è¾“å…¥è®¢å•ç æŸ¥è¯¢å•†å“çŠ¶æ€ï¼Œå¯æ ‡è®°æˆäº¤æˆ–ç”³è¯·å»¶æœŸ</p>
            </div>

            <div class="bg-white rounded-2xl p-5 md:p-6 shadow-sm mb-6">
                <div class="flex items-center gap-3 mb-4">
                    <i data-lucide="search" class="w-6 h-6 text-blue-500"></i>
                    <h2 class="text-lg font-bold text-gray-800">æŸ¥è¯¢è®¢å•</h2>
                </div>
                <div class="flex gap-3">
                    <input type="text" id="orderCodeInput" placeholder="è¾“å…¥è®¢å•ç ï¼Œå¦‚ï¼šZX20250119ABCD" class="flex-1 px-4 py-3 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:border-blue-400 focus:bg-white transition-all order-code text-base md:text-lg">
                    <button onclick="queryOrder()" class="bg-blue-500 text-white px-5 md:px-6 py-3 rounded-xl font-medium hover:bg-blue-600 transition-all">
                        æŸ¥è¯¢
                    </button>
                </div>
                <p class="text-xs text-gray-400 mt-3">
                    <i data-lucide="info" class="w-3 h-3 inline mr-1"></i>
                    è®¢å•ç åœ¨å‘å¸ƒæˆåŠŸåä¼šæ˜¾ç¤ºï¼Œè¯·å¦¥å–„ä¿å­˜
                </p>
            </div>

            <div id="orderResult" class="hidden">
                <div class="bg-white rounded-2xl p-5 md:p-6 shadow-sm mb-6">
                    <div class="flex gap-4">
                        <img id="resultImage" src="" class="w-20 h-20 md:w-24 md:h-24 object-cover rounded-xl bg-gray-100">
                        <div class="flex-1 min-w-0">
                            <h3 id="resultName" class="font-bold text-gray-800 text-base md:text-lg truncate"></h3>
                            <p id="resultPrice" class="text-blue-600 font-bold text-lg md:text-xl mt-1"></p>
                            <p id="resultCategory" class="text-sm text-gray-400 mt-1"></p>
                        </div>
                    </div>
                    <div class="mt-4 pt-4 border-t border-gray-100">
                        <div class="grid grid-cols-2 gap-4 text-sm">
                            <div><p class="text-gray-400">è®¢å•ç </p><p id="resultCode" class="font-mono font-bold text-gray-800"></p></div>
                            <div><p class="text-gray-400">çŠ¶æ€</p><p id="resultStatus" class="font-bold"></p></div>
                            <div><p class="text-gray-400">å‘å¸ƒæ—¥æœŸ</p><p id="resultDate" class="text-gray-800"></p></div>
                            <div><p class="text-gray-400">å‰©ä½™å±•ç¤º</p><p id="resultDaysLeft" class="font-bold"></p></div>
                        </div>
                    </div>
                </div>
                <div id="orderActions" class="grid md:grid-cols-2 gap-4">
                    <button onclick="markAsSold()" id="btnMarkSold" class="bg-emerald-500 text-white p-4 rounded-xl font-medium hover:bg-emerald-600 transition-all flex items-center justify-center gap-2">
                        <i data-lucide="check-circle" class="w-5 h-5"></i> æ ‡è®°ä¸ºå·²æˆäº¤
                    </button>
                    <button onclick="showExtendModal()" id="btnExtend" class="bg-white text-blue-600 p-4 rounded-xl font-medium border-2 border-blue-200 hover:border-blue-400 transition-all flex items-center justify-center gap-2">
                        <i data-lucide="clock" class="w-5 h-5"></i> ç”³è¯·å»¶æœŸ
                    </button>
                </div>
                <div id="soldNotice" class="hidden bg-gray-100 rounded-xl p-6 text-center">
                    <i data-lucide="check-circle" class="w-12 h-12 text-emerald-500 mx-auto mb-3"></i>
                    <p class="font-bold text-gray-800">æ­¤å•†å“å·²æ ‡è®°ä¸ºæˆäº¤</p>
                    <p class="text-sm text-gray-500 mt-1">æ„Ÿè°¢ä½¿ç”¨AIæ™ºé€‰ï¼</p>
                </div>
            </div>
            <div id="orderNotFound" class="hidden bg-amber-50 rounded-xl p-6 text-center">
                <i data-lucide="search-x" class="w-12 h-12 text-amber-400 mx-auto mb-3"></i>
                <p class="font-bold text-gray-800">æœªæ‰¾åˆ°æ­¤è®¢å•</p>
                <p class="text-sm text-gray-500 mt-1">è¯·æ£€æŸ¥è®¢å•ç æ˜¯å¦æ­£ç¡®</p>
            </div>
        </div>
    </div>

    <!-- FAQé¡µé¢ (#19) -->
    <div id="page-faq" class="hidden min-h-screen bg-gray-50 py-6 md:py-8">
        <div class="max-w-3xl mx-auto px-4">
            <div class="mb-6 md:mb-8 text-center">
                <h1 class="text-2xl md:text-3xl font-bold text-gray-900 mb-2">å¸¸è§é—®é¢˜</h1>
                <p class="text-gray-500">æœ‰ç–‘é—®ï¼Ÿè¿™é‡Œå¯èƒ½æœ‰æ‚¨è¦çš„ç­”æ¡ˆ</p>
            </div>

            <div class="space-y-4">
                <div class="bg-white rounded-xl p-5 shadow-sm">
                    <h3 class="font-bold text-gray-800 mb-2 flex items-center gap-2">
                        <i data-lucide="help-circle" class="w-5 h-5 text-blue-500"></i>
                        å¦‚ä½•å‘å¸ƒå•†å“ï¼Ÿ
                    </h3>
                    <p class="text-gray-600 text-sm leading-relaxed">ç‚¹å‡»"å‘å¸ƒå®è´"æŒ‰é’®ï¼Œä¸Šä¼ å•†å“å›¾ç‰‡ï¼ˆæœ€å¤š3å¼ ï¼‰ï¼Œå¡«å†™åç§°ã€ä»·æ ¼ã€åˆ†ç±»å’Œè”ç³»æ–¹å¼ï¼Œæ”¯ä»˜å°‘é‡å‘å¸ƒè´¹å³å¯ä¸Šæ¶ã€‚æ— éœ€æ³¨å†Œè´¦å·ã€‚</p>
                </div>
                
                <div class="bg-white rounded-xl p-5 shadow-sm">
                    <h3 class="font-bold text-gray-800 mb-2 flex items-center gap-2">
                        <i data-lucide="help-circle" class="w-5 h-5 text-blue-500"></i>
                        æ”¶è´¹æ ‡å‡†æ˜¯æ€æ ·çš„ï¼Ÿ
                    </h3>
                    <p class="text-gray-600 text-sm leading-relaxed">æˆ‘ä»¬æŒ‰å•†å“ä»·æ ¼åˆ†ä¸‰æ¡£æ”¶è´¹ï¼šâ‰¤500å…ƒæ”¶Â¥2.9ï¼ˆ30å¤©ï¼‰ã€500-3000å…ƒæ”¶Â¥3.9ï¼ˆ45å¤©ï¼‰ã€>3000å…ƒæ”¶Â¥5.9ï¼ˆ60å¤©ï¼‰ã€‚ä»…æ”¶å‘å¸ƒè´¹ï¼Œ<strong>é¦–2ä¸ªæœˆæ— æˆäº¤ä½£é‡‘</strong>ã€‚</p>
                </div>
                
                <div class="bg-white rounded-xl p-5 shadow-sm">
                    <h3 class="font-bold text-gray-800 mb-2 flex items-center gap-2">
                        <i data-lucide="help-circle" class="w-5 h-5 text-blue-500"></i>
                        ä»€ä¹ˆæ˜¯è®¢å•ç ï¼Ÿå¦‚ä½•ä½¿ç”¨ï¼Ÿ
                    </h3>
                    <p class="text-gray-600 text-sm leading-relaxed">è®¢å•ç æ˜¯æ‚¨å‘å¸ƒæˆåŠŸåè·å¾—çš„å”¯ä¸€ç¼–ç ï¼ˆå¦‚ZX20250119ABCDï¼‰ï¼Œç”¨äºæŸ¥è¯¢å•†å“çŠ¶æ€ã€æ ‡è®°æˆäº¤ã€ç”³è¯·å»¶æœŸã€‚è¯·å¦¥å–„ä¿å­˜ï¼</p>
                </div>
                
                <div class="bg-white rounded-xl p-5 shadow-sm">
                    <h3 class="font-bold text-gray-800 mb-2 flex items-center gap-2">
                        <i data-lucide="help-circle" class="w-5 h-5 text-blue-500"></i>
                        å•†å“åˆ°æœŸäº†æ€ä¹ˆåŠï¼Ÿ
                    </h3>
                    <p class="text-gray-600 text-sm leading-relaxed">å•†å“åˆ°æœŸå‰å¯ç”³è¯·å»¶æœŸç»­å±•ã€‚å»¶æœŸä»·æ ¼æ¯”é¦–æ¬¡ä¾¿å®œï¼šâ‰¤500å…ƒå•†å“å»¶æœŸÂ¥1.9/15å¤©ï¼Œ500-3000å…ƒÂ¥2.9/20å¤©ï¼Œ>3000å…ƒÂ¥3.9/30å¤©ã€‚</p>
                </div>
                
                <div class="bg-white rounded-xl p-5 shadow-sm">
                    <h3 class="font-bold text-gray-800 mb-3 flex items-center gap-2">
                        <i data-lucide="help-circle" class="w-5 h-5 text-blue-500"></i>
                        AIç²¾å‡†åŒ¹é…æ¨é€æ˜¯ä»€ä¹ˆï¼Ÿ
                    </h3>
                    <p class="text-gray-600 text-sm leading-relaxed mb-3">æˆ‘ä»¬çš„AIä¼šæ™ºèƒ½åˆ†æå•†å“ç‰¹å¾ï¼Œç²¾å‡†åŒ¹é…æ½œåœ¨ä¹°å®¶ï¼Œå¹¶é€šè¿‡å¤šæ¸ é“ä¸»åŠ¨æ¨é€ï¼š</p>
                    <ul class="text-gray-600 text-sm space-y-2 ml-1">
                        <li class="flex items-start gap-2">
                            <i data-lucide="check" class="w-4 h-4 text-emerald-500 flex-shrink-0 mt-0.5"></i>
                            <span><strong>ç«™å†…ä¼˜å…ˆå±•ç¤º</strong>ï¼šåœ¨ç›¸å…³ç±»ç›®ä¸­è·å¾—æ›´å¤šæ›å…‰</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <i data-lucide="check" class="w-4 h-4 text-emerald-500 flex-shrink-0 mt-0.5"></i>
                            <span><strong>å¹³å°å¤–æ¨é€</strong>ï¼šå‰æœŸæµ‹è¯•é˜¶æ®µï¼Œå…è´¹æ¨é€è‡³ç›¸å…³äºŒæ‰‹äº¤æ˜“ç¤¾ç¾¤</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <i data-lucide="check" class="w-4 h-4 text-emerald-500 flex-shrink-0 mt-0.5"></i>
                            <span><strong>ç§åŸŸè§¦è¾¾</strong>ï¼šæ ¹æ®ä¹°å®¶åå¥½ï¼Œç²¾å‡†æ¨é€ç»™æœ‰éœ€æ±‚çš„ç”¨æˆ·</span>
                        </li>
                    </ul>
                    <p class="text-gray-500 text-sm mt-3">æˆ‘ä»¬æ­£åœ¨æŒç»­ä¼˜åŒ–ç®—æ³•ï¼Œè®©åŒ¹é…æ›´ç²¾å‡†ï¼Œå¸®æ‚¨æ›´å¿«æ‰¾åˆ°ä¹°å®¶ï¼</p>
                </div>
                
                <div class="bg-white rounded-xl p-5 shadow-sm">
                    <h3 class="font-bold text-gray-800 mb-2 flex items-center gap-2">
                        <i data-lucide="help-circle" class="w-5 h-5 text-blue-500"></i>
                        äº¤æ˜“å¦‚ä½•è¿›è¡Œï¼Ÿå¹³å°å‚ä¸å—ï¼Ÿ
                    </h3>
                    <p class="text-gray-600 text-sm leading-relaxed">å¹³å°ä»…æä¾›ä¿¡æ¯å±•ç¤ºæœåŠ¡ï¼Œä¸å‚ä¸å®é™…äº¤æ˜“ã€‚ä¹°å®¶ä¼šé€šè¿‡æ‚¨ç•™ä¸‹çš„è”ç³»æ–¹å¼ç›´æ¥è”ç³»æ‚¨ï¼ŒåŒæ–¹è‡ªè¡Œåå•†ä»·æ ¼å’Œäº¤æ˜“æ–¹å¼ã€‚å»ºè®®é€‰æ‹©åŒåŸé¢äº¤ï¼Œå½“é¢éªŒè´§æ›´å®‰å…¨ã€‚</p>
                </div>
                
                <div class="bg-white rounded-xl p-5 shadow-sm">
                    <h3 class="font-bold text-gray-800 mb-2 flex items-center gap-2">
                        <i data-lucide="help-circle" class="w-5 h-5 text-blue-500"></i>
                        å‘å¸ƒè´¹å¯ä»¥é€€æ¬¾å—ï¼Ÿ
                    </h3>
                    <p class="text-gray-600 text-sm leading-relaxed">å‘å¸ƒè´¹ç”¨äºå¹³å°è¿è¥å’ŒAIæœåŠ¡ï¼ŒåŸåˆ™ä¸Šä¸æ”¯æŒé€€æ¬¾ã€‚ä½†å¦‚æœé‡åˆ°ç‰¹æ®Šæƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥æä¾›å…è´¹å»¶æœŸä½œä¸ºè¡¥å¿ï¼Œè¯·è”ç³»å®¢æœã€‚</p>
                </div>
            </div>
            
            <div class="mt-8 bg-blue-50 rounded-xl p-6 text-center">
                <p class="text-gray-700 mb-4">æ²¡æœ‰æ‰¾åˆ°ç­”æ¡ˆï¼Ÿ</p>
                <button onclick="showContactModal()" class="btn-gradient text-white px-6 py-2.5 rounded-full font-medium">
                    è”ç³»å®¢æœ
                </button>
            </div>
        </div>
    </div>

    <!-- å•†å“è¯¦æƒ…å¼¹çª— (#4 #5) -->
    <div id="productDetailModal" class="hidden fixed inset-0 bg-black/60 flex items-end md:items-center justify-center z-50">
        <div class="bg-white w-full md:max-w-lg md:rounded-2xl rounded-t-3xl max-h-[90vh] overflow-hidden animate-slide-up md:animate-bounce-in">
            <div class="relative">
                <!-- å›¾ç‰‡è½®æ’­ (#5) -->
                <div class="relative aspect-square bg-gray-100 overflow-hidden">
                    <div id="detailImageContainer" class="flex transition-transform duration-300">
                        <!-- å›¾ç‰‡ç”±JSåŠ¨æ€ç”Ÿæˆ -->
                    </div>
                    <!-- è½®æ’­æŒ‡ç¤ºå™¨ -->
                    <div id="imageIndicators" class="absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2"></div>
                    <!-- å·¦å³ç®­å¤´ -->
                    <button onclick="prevImage()" id="prevImageBtn" class="absolute left-2 top-1/2 -translate-y-1/2 w-10 h-10 bg-white/80 rounded-full flex items-center justify-center shadow-lg hover:bg-white transition-all">
                        <i data-lucide="chevron-left" class="w-6 h-6"></i>
                    </button>
                    <button onclick="nextImage()" id="nextImageBtn" class="absolute right-2 top-1/2 -translate-y-1/2 w-10 h-10 bg-white/80 rounded-full flex items-center justify-center shadow-lg hover:bg-white transition-all">
                        <i data-lucide="chevron-right" class="w-6 h-6"></i>
                    </button>
                </div>
                <button onclick="closeProductDetail()" class="absolute top-4 right-4 w-10 h-10 bg-black/50 rounded-full flex items-center justify-center text-white hover:bg-black/70 transition-all">
                    <i data-lucide="x" class="w-6 h-6"></i>
                </button>
            </div>
            <div class="p-5 max-h-[50vh] overflow-y-auto">
                <div class="flex items-start justify-between gap-4 mb-4">
                    <h3 id="detailName" class="text-xl font-bold text-gray-800"></h3>
                    <span id="detailPrice" class="text-2xl font-bold text-blue-600 whitespace-nowrap"></span>
                </div>
                <div class="flex items-center gap-4 text-sm text-gray-500 mb-4">
                    <span id="detailCategory" class="bg-gray-100 px-2 py-1 rounded"></span>
                    <span id="detailLocation" class="flex items-center gap-1">
                        <i data-lucide="map-pin" class="w-4 h-4"></i>
                        <span></span>
                    </span>
                    <span id="detailViews" class="flex items-center gap-1">
                        <i data-lucide="eye" class="w-4 h-4"></i>
                        <span></span>
                    </span>
                </div>
                <p id="detailDesc" class="text-gray-600 text-sm leading-relaxed mb-6"></p>
                <div class="bg-blue-50 rounded-xl p-4 mb-4">
                    <p class="text-sm text-gray-600 mb-3">è”ç³»å–å®¶</p>
                    <div class="flex gap-3">
                        <a id="detailPhone" href="" class="flex-1 bg-emerald-500 text-white py-3 rounded-xl font-medium flex items-center justify-center gap-2 hover:bg-emerald-600 transition-all">
                            <i data-lucide="phone" class="w-4 h-4"></i>
                            <span></span>
                        </a>
                        <button id="detailWechat" onclick="copyWechat()" class="flex-1 bg-green-500 text-white py-3 rounded-xl font-medium flex items-center justify-center gap-2 hover:bg-green-600 transition-all">
                            <i data-lucide="message-circle" class="w-4 h-4"></i>
                            <span></span>
                        </button>
                    </div>
                </div>
                <p class="text-xs text-gray-400 text-center">æç¤ºï¼šè¯·ä¼˜å…ˆé€‰æ‹©åŒåŸé¢äº¤ï¼Œå½“é¢éªŒè´§æ›´å®‰å…¨</p>
            </div>
        </div>
    </div>

    <!-- è”ç³»å®¢æœå¼¹çª— (#20) -->
    <div id="contactModal" class="hidden fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4">
        <div class="bg-white rounded-2xl max-w-sm w-full p-6 text-center animate-bounce-in">
            <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
                <i data-lucide="message-circle" class="w-8 h-8 text-blue-500"></i>
            </div>
            <h3 class="text-xl font-bold text-gray-800 mb-2">è”ç³»å®¢æœ</h3>
            <p class="text-gray-500 text-sm mb-6">æ‰«æä¸‹æ–¹äºŒç»´ç æ·»åŠ å®¢æœå¾®ä¿¡</p>
            
            <!-- å®¢æœäºŒç»´ç å ä½ -->
            <div class="w-48 h-48 mx-auto">
                    <img src="service-qrcode.png" alt="å®¢æœå¾®ä¿¡äºŒç»´ç " class="w-full h-full object-contain rounded-xl">
            </div>
            
            <p class="text-sm text-gray-600 mb-4">
                æˆ–æ·»åŠ å¾®ä¿¡ï¼š<strong class="text-blue-600">715284059</strong>
            </p>
            
            <button onclick="closeContactModal()" class="w-full bg-gray-100 text-gray-700 py-3 rounded-xl font-medium hover:bg-gray-200 transition-all">
                å…³é—­
            </button>
        </div>
    </div>

    <!-- æˆåŠŸå¼¹çª— -->
    <div id="successModal" class="hidden fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4">
        <div class="bg-white rounded-2xl p-6 md:p-8 text-center animate-bounce-in max-w-md w-full">
            <div class="w-16 h-16 bg-emerald-500 rounded-full flex items-center justify-center mx-auto mb-4">
                <i data-lucide="check" class="w-8 h-8 text-white"></i>
            </div>
            <h3 class="text-xl font-bold text-gray-800">æäº¤æˆåŠŸï¼</h3>
            <p class="text-gray-500 mt-2 text-sm md:text-base">AIæ­£åœ¨åˆ†ææ‚¨çš„å•†å“ï¼Œæˆ‘ä»¬å°†åœ¨1-24å°æ—¶å†…å®¡æ ¸ä¸Šæ¶</p>
            <div class="mt-6 bg-blue-50 rounded-xl p-4">
                <p class="text-sm text-blue-600 mb-2">æ‚¨çš„ä¸“å±è®¢å•ç </p>
                <p id="generatedOrderCode" class="order-code text-xl md:text-2xl font-bold text-blue-700 bg-white rounded-lg py-3 px-4"></p>
                <button onclick="copyOrderCode()" id="copyBtn" class="mt-3 text-sm text-blue-600 hover:text-blue-700 flex items-center justify-center gap-1 mx-auto transition-all">
                    <i data-lucide="copy" class="w-4 h-4" id="copyIcon"></i>
                    <span id="copyText">ç‚¹å‡»å¤åˆ¶</span>
                </button>
            </div>
            <div class="mt-4 bg-amber-50 rounded-lg p-3 text-xs text-amber-700">
                <i data-lucide="alert-circle" class="w-4 h-4 inline mr-1"></i>
                è¯·ä¿å­˜æ­¤è®¢å•ç ï¼Œç”¨äºæŸ¥è¯¢çŠ¶æ€ã€æ ‡è®°æˆäº¤ã€ç”³è¯·å»¶æœŸ
            </div>
            <button onclick="closeSuccessModal()" class="mt-6 w-full bg-blue-500 text-white py-3 rounded-full font-medium hover:bg-blue-600 transition-all">
                æˆ‘å·²ä¿å­˜ï¼Œå…³é—­
            </button>
        </div>
    </div>

    <!-- æ”¯ä»˜å¼¹çª— -->
    <div id="paymentModal" class="hidden fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4">
        <div class="bg-white rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto">
            <div class="p-5 md:p-6">
                <div class="flex items-center justify-between mb-6">
                    <h3 class="text-xl font-bold text-gray-800">æ‰«ç æ”¯ä»˜</h3>
                    <button onclick="closePaymentModal()" class="text-gray-400 hover:text-gray-600">
                        <i data-lucide="x" class="w-6 h-6"></i>
                    </button>
                </div>
                <div class="text-center mb-6">
                    <p class="text-gray-500 mb-2" id="paymentType">å‘å¸ƒè´¹ç”¨</p>
                    <p class="text-4xl font-bold text-blue-600" id="paymentAmount">Â¥0.00</p>
                    <p class="text-sm text-gray-400 mt-1" id="paymentDays"></p>
                    <!-- æ”¯ä»˜å€’è®¡æ—¶ (#9) -->
                    <p class="text-xs text-amber-600 mt-2" id="paymentCountdown"></p>
                </div>
                <div class="flex gap-2 mb-4">
                    <button onclick="switchPayment('wechat')" id="btn-wechat" class="flex-1 py-2.5 rounded-lg border-2 border-green-500 bg-green-50 text-green-600 font-medium flex items-center justify-center gap-2">
                        <svg class="w-5 h-5" viewBox="0 0 24 24" fill="currentColor"><path d="M8.691 2.188C3.891 2.188 0 5.476 0 9.53c0 2.212 1.17 4.203 3.002 5.55a.59.59 0 01.213.665l-.39 1.48c-.019.07-.048.141-.048.213 0 .163.13.295.29.295a.326.326 0 00.167-.054l1.903-1.114a.864.864 0 01.717-.098 10.16 10.16 0 002.837.403c.276 0 .543-.027.811-.05-.857-2.578.157-4.972 1.932-6.446 1.703-1.415 3.882-1.98 5.853-1.838-.576-3.583-4.196-6.348-8.596-6.348zM5.785 5.991c.642 0 1.162.529 1.162 1.18a1.17 1.17 0 01-1.162 1.178A1.17 1.17 0 014.623 7.17c0-.651.52-1.18 1.162-1.18zm5.813 0c.642 0 1.162.529 1.162 1.18a1.17 1.17 0 01-1.162 1.178 1.17 1.17 0 01-1.162-1.178c0-.651.52-1.18 1.162-1.18z"/></svg>
                        å¾®ä¿¡
                    </button>
                    <button onclick="switchPayment('alipay')" id="btn-alipay" class="flex-1 py-2.5 rounded-lg border-2 border-gray-200 text-gray-500 font-medium flex items-center justify-center gap-2">
                        <svg class="w-5 h-5" viewBox="0 0 24 24" fill="currentColor"><path d="M21.422 15.358c-3.83-1.153-6.055-1.84-7.373-2.267.642-1.476 1.07-3.122 1.07-4.908 0-.907-.151-1.606-.302-2.078h2.107V4.473h-3.638V2.907h-2.573v1.566H7.076v1.632h2.107c-.151.472-.302 1.17-.302 2.078 0 1.786.453 3.432 1.07 4.908-1.318.428-3.543 1.114-7.373 2.267C.972 16.058 0 17.154 0 18.401v2.693h24v-2.693c0-1.247-.972-2.343-2.578-3.043z"/></svg>
                        æ”¯ä»˜å®
                    </button>
                </div>
                
                <!-- æ”¶æ¬¾ç  (#8 ä¼˜åŒ–å ä½æç¤º) -->
                <div class="bg-gray-50 rounded-xl p-4 md:p-6 text-center mb-4">
                    <div id="qrcode-wechat" class="qrcode-container">
                        <div class="w-44 h-44 md:w-48 md:h-48 mx-auto bg-white rounded-xl overflow-hidden">
                            <img src="payment-qrcode.png" alt="å¾®ä¿¡æ”¶æ¬¾ç " class="w-full h-full object-contain">
                        </div>
                    </div>
                    <div id="qrcode-alipay" class="qrcode-container hidden">
                        <div class="w-44 h-44 md:w-48 md:h-48 mx-auto bg-white rounded-xl border-2 border-dashed border-blue-300 flex items-center justify-center">
                            <div class="text-center text-gray-400 p-4">
                                <i data-lucide="qr-code" class="w-10 h-10 mx-auto mb-2 text-blue-400"></i>
                                <p class="text-sm font-medium text-blue-600">æ”¯ä»˜å®æ”¶æ¬¾ç </p>
                                <p class="text-xs mt-1 text-gray-400">å°ºå¯¸ï¼š300x300px</p>
                                <p class="text-xs text-gray-400">æ ¼å¼ï¼šPNG/JPG</p>
                            </div>
                        </div>
                    </div>
                    <p class="text-gray-500 text-sm mt-4">è¯·ä½¿ç”¨<span id="paymentMethodName" class="font-medium">å¾®ä¿¡</span>æ‰«ç æ”¯ä»˜</p>
                </div>
                
                <div class="bg-amber-50 rounded-xl p-4 mb-6">
                    <p class="text-amber-800 text-sm font-medium mb-2">âš ï¸ è½¬è´¦æ—¶è¯·å¤‡æ³¨</p>
                    <div class="bg-white rounded-lg p-3 text-center">
                        <p class="font-mono text-base md:text-lg font-bold text-gray-800" id="paymentNote"></p>
                    </div>
                    <p class="text-amber-600 text-xs mt-2">ä¾‹å¦‚ï¼šåŒ—æ¬§é¤æ¡Œ1234ï¼ˆæ–¹ä¾¿æ ¸å¯¹ï¼‰</p>
                </div>
                <button onclick="confirmPayment()" class="w-full btn-gradient text-white py-4 rounded-xl font-bold hover:shadow-lg transition-all flex items-center justify-center gap-2">
                    <i data-lucide="check-circle" class="w-5 h-5"></i>
                    æˆ‘å·²å®Œæˆæ”¯ä»˜
                </button>
                <p class="text-center text-gray-400 text-xs mt-4">æ”¯ä»˜åç‚¹å‡»ä¸Šæ–¹æŒ‰é’®ï¼ŒAIå°†å¼€å§‹åˆ†ææ‚¨çš„å•†å“</p>
            </div>
        </div>
    </div>

    <!-- å»¶æœŸæ”¯ä»˜å¼¹çª— -->
    <div id="extendModal" class="hidden fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4">
        <div class="bg-white rounded-2xl max-w-md w-full">
            <div class="p-5 md:p-6">
                <div class="flex items-center justify-between mb-6">
                    <h3 class="text-xl font-bold text-gray-800">ç”³è¯·å»¶æœŸ</h3>
                    <button onclick="closeExtendModal()" class="text-gray-400 hover:text-gray-600">
                        <i data-lucide="x" class="w-6 h-6"></i>
                    </button>
                </div>
                <div class="text-center mb-6">
                    <p class="text-gray-500 mb-2">å»¶æœŸè´¹ç”¨</p>
                    <p class="text-4xl font-bold text-blue-600" id="extendAmount">Â¥1.9</p>
                    <p class="text-sm text-gray-400 mt-1" id="extendDays">å»¶é•¿15å¤©å±•ç¤ºæœŸ</p>
                </div>
                <div class="bg-gray-50 rounded-xl p-6 text-center mb-4">
                    <div class="w-36 h-36 md:w-40 md:h-40 mx-auto bg-white rounded-lg border-2 border-dashed border-gray-300 flex items-center justify-center">
                        <div class="text-center text-gray-400">
                            <i data-lucide="qr-code" class="w-8 h-8 mx-auto mb-2"></i>
                            <p class="text-sm">æ”¶æ¬¾ç </p>
                        </div>
                    </div>
                </div>
                <div class="bg-amber-50 rounded-xl p-3 mb-4 text-center">
                    <p class="text-amber-700 text-sm">å¤‡æ³¨ï¼š<strong id="extendNote"></strong></p>
                </div>
                <button onclick="confirmExtend()" class="w-full bg-blue-500 text-white py-4 rounded-xl font-bold hover:bg-blue-600 transition-all">
                    æˆ‘å·²å®Œæˆæ”¯ä»˜
                </button>
            </div>
        </div>
    </div>

    <!-- æ ‡è®°æˆäº¤ç¡®è®¤å¼¹çª— -->
    <div id="soldConfirmModal" class="hidden fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4">
        <div class="bg-white rounded-2xl max-w-sm w-full p-6 text-center animate-bounce-in">
            <div class="w-16 h-16 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-4">
                <i data-lucide="alert-triangle" class="w-8 h-8 text-amber-500"></i>
            </div>
            <h3 class="text-xl font-bold text-gray-800 mb-2">ç¡®è®¤æ ‡è®°ä¸ºå·²æˆäº¤ï¼Ÿ</h3>
            <p class="text-gray-500 text-sm mb-6">æ ‡è®°åå•†å“å°†ä¸‹æ¶ï¼Œæ­¤æ“ä½œä¸å¯æ’¤é”€</p>
            <div class="flex gap-3">
                <button onclick="closeSoldConfirmModal()" class="flex-1 py-3 rounded-xl border border-gray-200 text-gray-600 font-medium hover:bg-gray-50">å–æ¶ˆ</button>
                <button onclick="confirmMarkSold()" class="flex-1 py-3 rounded-xl bg-emerald-500 text-white font-medium hover:bg-emerald-600">ç¡®è®¤æˆäº¤</button>
            </div>
        </div>
    </div>

    <!-- V16: æ±‚è´­å¼¹çª— -->
    <div id="wantedModal" class="hidden fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4">
        <div class="bg-white rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto animate-bounce-in">
            <div class="p-5 md:p-6">
                <div class="flex items-center justify-between mb-4">
                    <div class="flex items-center gap-3">
                        <div class="w-10 h-10 bg-blue-100 rounded-xl flex items-center justify-center">
                            <i data-lucide="search" class="w-5 h-5 text-blue-600"></i>
                        </div>
                        <div>
                            <h3 class="text-lg font-bold text-gray-800">å‘å¸ƒæ±‚è´­</h3>
                            <p class="text-xs text-gray-500">å‘Šè¯‰æˆ‘ä»¬æ‚¨æƒ³è¦ä»€ä¹ˆ</p>
                        </div>
                    </div>
                    <button onclick="closeWantedModal()" class="text-gray-400 hover:text-gray-600">
                        <i data-lucide="x" class="w-6 h-6"></i>
                    </button>
                </div>
                
                <!-- å…è´¹æç¤º -->
                <div class="bg-emerald-50 border border-emerald-200 rounded-xl p-3 mb-4 flex items-center gap-2">
                    <i data-lucide="gift" class="w-5 h-5 text-emerald-600 flex-shrink-0"></i>
                    <span class="text-sm text-emerald-700"><strong>å…è´¹å‘å¸ƒ</strong>ï¼Œæœ‰åŒ¹é…å•†å“ä¼šç¬¬ä¸€æ—¶é—´é€šçŸ¥æ‚¨ï¼</span>
                </div>
                
                <!-- æ±‚è´­è¡¨å• -->
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1.5">
                            æƒ³è¦ä»€ä¹ˆå•†å“ï¼Ÿ <span class="text-red-500">*</span>
                        </label>
                        <input type="text" id="wantedItem" placeholder="å¦‚ï¼šiPhone 13 Pro 256Gã€ä¹æˆæ–°" class="w-full px-4 py-3 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:border-blue-400 focus:bg-white transition-all">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1.5">
                            å•†å“åˆ†ç±» <span class="text-red-500">*</span>
                        </label>
                        <select id="wantedCategory" class="w-full px-4 py-3 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:border-blue-400 focus:bg-white transition-all">
                            <option value="">è¯·é€‰æ‹©åˆ†ç±»</option>
                            <option value="å®¶å…·">ğŸ›‹ï¸ å®¶å…·</option>
                            <option value="æ•°ç ">ğŸ“± æ•°ç </option>
                            <option value="æœé¥°">ğŸ‘• æœé¥°</option>
                            <option value="æ¯å©´">ğŸ‘¶ æ¯å©´</option>
                            <option value="å®¶å±…">ğŸ  å®¶å±…</option>
                            <option value="ä¹¦ç±">ğŸ“š ä¹¦ç±</option>
                            <option value="è¿åŠ¨">ğŸš² è¿åŠ¨</option>
                            <option value="æ¸¸æˆ">ğŸ® æ¸¸æˆ</option>
                            <option value="å·¥å…·">ğŸ”§ å·¥å…·</option>
                        </select>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1.5">
                            é¢„ç®—èŒƒå›´ <span class="text-red-500">*</span>
                        </label>
                        <select id="wantedBudget" class="w-full px-4 py-3 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:border-blue-400 focus:bg-white transition-all">
                            <option value="">è¯·é€‰æ‹©é¢„ç®—</option>
                            <option value="0-500">Â¥500 ä»¥å†…</option>
                            <option value="500-1000">Â¥500 - Â¥1000</option>
                            <option value="1000-3000">Â¥1000 - Â¥3000</option>
                            <option value="3000-5000">Â¥3000 - Â¥5000</option>
                            <option value="5000+">Â¥5000 ä»¥ä¸Š</option>
                        </select>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1.5">
                            å¾®ä¿¡å· <span class="text-red-500">*</span>
                            <span class="text-gray-400 font-normal">ï¼ˆç”¨äºé€šçŸ¥æ‚¨ï¼‰</span>
                        </label>
                        <input type="text" id="wantedWechat" placeholder="è¯·è¾“å…¥æ‚¨çš„å¾®ä¿¡å·" class="w-full px-4 py-3 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:border-blue-400 focus:bg-white transition-all">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1.5">
                            è¡¥å……è¯´æ˜
                            <span class="text-gray-400 font-normal">ï¼ˆé€‰å¡«ï¼‰</span>
                        </label>
                        <textarea id="wantedNote" rows="2" placeholder="å¦‚ï¼šè¦å›½è¡Œã€æˆè‰²9æ–°ä»¥ä¸Šã€æœ€å¥½åŒåŸ" class="w-full px-4 py-3 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:border-blue-400 focus:bg-white transition-all resize-none"></textarea>
                    </div>
                </div>
                
                <button onclick="submitWanted()" class="w-full btn-gradient text-white py-4 rounded-xl font-bold mt-6 hover:shadow-lg hover:shadow-blue-500/30 transition-all flex items-center justify-center gap-2">
                    <i data-lucide="send" class="w-5 h-5"></i>
                    æäº¤æ±‚è´­
                </button>
                
                <p class="text-center text-gray-400 text-xs mt-3">
                    æäº¤åï¼Œæˆ‘ä»¬ä¼šåœ¨æœ‰åŒ¹é…å•†å“æ—¶é€šè¿‡å¾®ä¿¡é€šçŸ¥æ‚¨
                </p>
            </div>
        </div>
    </div>

    <script>
        // ============================================
        //  Supabase è¿æ¥é…ç½®
        // ============================================
        const SUPABASE_URL = 'https://jwgcvbyefhpffgpdeawd.supabase.co';
        const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp3Z2N2YnllZmhwZmZncGRlYXdkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjkwNzI1MTUsImV4cCI6MjA4NDY0ODUxNX0.BMnoEx_laV0_CB7i5bl8yOFZob3i849lrtwPXe_6BZ8';
        
        // åˆå§‹åŒ– Supabase å®¢æˆ·ç«¯
        const supabaseClient = supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
        // ============================================
        // ç®¡ç†å‘˜æ¨¡å¼æ£€æŸ¥
        // è®¿é—® https://wiseselect.ai?admin=wiseselect2025 å³ä¸ºç®¡ç†å‘˜
        // ============================================
        function isAdminMode() {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get('admin') === 'wiseselect2025';
        }
        // æ•°æ®åº“å•†å“ï¼ˆä» Supabase åŠ è½½ï¼‰
        let dbProducts = [];
        
        // V13: å•†å“æ•°æ® - ä¼˜åŒ–ç»“æ„ï¼ˆé€‚é…Supabaseæ•°æ®åº“ï¼‰
        const products = [
            { id: 'p001', order_code: 'ZX20260115ABCD', name: 'åŒ—æ¬§é£å®æœ¨é¤æ¡Œ', price: 680, original_price: 1299, image: 'https://images.unsplash.com/photo-1555041469-a586c61ea9bc?w=400&h=300&fit=crop', images: ['https://images.unsplash.com/photo-1555041469-a586c61ea9bc?w=800&h=600&fit=crop', 'https://images.unsplash.com/photo-1506439773649-6e0eb8cfb237?w=800&h=600&fit=crop'], location: 'åŒ—äº¬Â·æœé˜³', category: 'å®¶å…·', status: 'active', is_hot: true, views: 328, description: '9æˆæ–°åŒ—æ¬§é£å®æœ¨é¤æ¡Œï¼ŒåŸä»·1299è´­å…¥ï¼Œä½¿ç”¨åŠå¹´ï¼Œæ— åˆ’ç—•æ— ç£•ç¢°ã€‚å°ºå¯¸ï¼š120x80cmï¼Œé€‚åˆ2-4äººä½¿ç”¨ã€‚æ¬å®¶æ€¥å‡ºï¼Œä»·æ ¼å¯å°åˆ€ã€‚', phone: '13800138001', wechat: 'seller_001', publish_fee: 2.9, created_at: '2026-01-15T10:30:00Z', expires_at: '2026-02-14T10:30:00Z' },
            { id: 'p002', order_code: 'ZX20260116EFGH', name: 'ç´¢å°¼WH-1000XM4è€³æœº', price: 1299, original_price: 2499, image: 'https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=400&h=300&fit=crop', images: ['https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=800&h=600&fit=crop'], location: 'ä¸Šæµ·Â·æµ¦ä¸œ', category: 'æ•°ç ', status: 'active', is_hot: false, views: 512, description: 'ç´¢å°¼æ——èˆ°é™å™ªè€³æœºï¼Œå›½è¡Œæ­£å“å¸¦å‘ç¥¨ï¼Œè´­äºäº¬ä¸œè‡ªè¥ã€‚é…ä»¶é½å…¨ï¼ŒåŒ…è£…å®Œå¥½ã€‚é™å™ªæ•ˆæœä¸€æµï¼ŒéŸ³è´¨å‡ºè‰²ã€‚', phone: '13900139002', wechat: 'sony_fan', publish_fee: 3.9, created_at: '2026-01-16T14:20:00Z', expires_at: '2026-03-02T14:20:00Z' },
            { id: 'p003', order_code: 'ZX20260114IJKL', name: 'å¤å¤çœŸçš®æ‰‹è¡¨', price: 459, original_price: 899, image: 'https://images.unsplash.com/photo-1524592094714-0f0654e20314?w=400&h=300&fit=crop', images: ['https://images.unsplash.com/photo-1524592094714-0f0654e20314?w=800&h=600&fit=crop'], location: 'æ·±åœ³Â·å—å±±', category: 'æœé¥°', status: 'active', is_hot: false, views: 186, description: 'å¤å¤é£æ ¼çœŸçš®è¡¨å¸¦æ‰‹è¡¨ï¼Œæ—¥æœ¬æœºèŠ¯ï¼Œèµ°æ—¶ç²¾å‡†ã€‚è¡¨ç›˜ç›´å¾„40mmï¼Œé€‚åˆå•†åŠ¡ä¼‘é—²ä½©æˆ´ã€‚', phone: '', wechat: 'watch_lover', publish_fee: 2.9, created_at: '2026-01-14T09:15:00Z', expires_at: '2026-02-13T09:15:00Z' },
            { id: 'p004', order_code: 'ZX20260112MNOP', name: 'å¤šè‚‰æ¤ç‰©ç›†æ ½ç»„åˆ', price: 89, original_price: 168, image: 'https://images.unsplash.com/photo-1459411552884-841db9b3cc2a?w=400&h=300&fit=crop', images: ['https://images.unsplash.com/photo-1459411552884-841db9b3cc2a?w=800&h=600&fit=crop'], location: 'æ­å·Â·è¥¿æ¹–', category: 'å®¶å±…', status: 'active', is_hot: false, views: 95, description: 'ç²¾é€‰å¤šè‚‰æ¤ç‰©6ç›†ç»„åˆï¼Œå«é™¶ç“·èŠ±ç›†ã€‚å“ç§åŒ…æ‹¬ï¼šç†Šç«¥å­ã€æ¡ƒè›‹ã€ç‰éœ²ç­‰ã€‚å…»æŠ¤ç®€å•ï¼Œé€‚åˆæ–°æ‰‹ã€‚', phone: '13700137004', wechat: '', publish_fee: 2.9, created_at: '2026-01-12T16:45:00Z', expires_at: '2026-02-11T16:45:00Z' },
            { id: 'p005', order_code: 'ZX20260120QRST', name: 'iPad Pro 11å¯¸ 2022', price: 4500, original_price: 6799, image: 'https://images.unsplash.com/photo-1544244015-0df4b3ffc6b0?w=400&h=300&fit=crop', images: ['https://images.unsplash.com/photo-1544244015-0df4b3ffc6b0?w=800&h=600&fit=crop'], location: 'å¹¿å·Â·å¤©æ²³', category: 'æ•°ç ', status: 'active', is_hot: true, views: 756, description: 'iPad Pro 11å¯¸ 2022æ¬¾ï¼Œ256G WiFiç‰ˆï¼Œæ·±ç©ºç°è‰²ã€‚å±å¹•å®Œç¾æ— åˆ’ç—•ï¼Œç”µæ± å¥åº·åº¦98%ã€‚é€å®˜æ–¹æ™ºèƒ½é”®ç›˜å’ŒApple Pencil 2ä»£ã€‚', phone: '13600136005', wechat: 'apple_user', publish_fee: 5.9, created_at: '2026-01-20T08:00:00Z', expires_at: '2026-03-21T08:00:00Z' },
            { id: 'p006', order_code: 'ZX20260110UVWX', name: 'å©´å„¿æ¨è½¦ é«˜æ™¯è§‚', price: 899, original_price: 2299, image: 'https://images.unsplash.com/photo-1591088398332-8a7791972843?w=400&h=300&fit=crop', images: ['https://images.unsplash.com/photo-1591088398332-8a7791972843?w=800&h=600&fit=crop'], location: 'æˆéƒ½Â·é”¦æ±Ÿ', category: 'æ¯å©´', status: 'active', is_hot: false, views: 234, description: 'å¾·å›½å“ç‰Œé«˜æ™¯è§‚å©´å„¿æ¨è½¦ï¼Œå¯åå¯èººï¼ŒåŒå‘æ¨è¡Œã€‚é€‚åˆ0-3å²å®å®ï¼Œæ‰¿é‡25kgã€‚é…ä»¶é½å…¨ï¼Œé€é›¨ç½©å’ŒèšŠå¸ã€‚', phone: '13500135006', wechat: 'baby_mom', publish_fee: 3.9, created_at: '2026-01-10T11:30:00Z', expires_at: '2026-02-24T11:30:00Z' },
            { id: 'p007', order_code: 'ZX20260114YZAB', name: 'æˆ´æ£®V12å¸å°˜å™¨', price: 2800, original_price: 4990, image: 'https://images.unsplash.com/photo-1558317374-067fb5f30001?w=400&h=300&fit=crop', images: ['https://images.unsplash.com/photo-1558317374-067fb5f30001?w=800&h=600&fit=crop'], location: 'åŒ—äº¬Â·æµ·æ·€', category: 'å®¶å±…', status: 'active', is_hot: true, views: 445, description: 'æˆ´æ£®V12æ— çº¿å¸å°˜å™¨ï¼Œè´­äºå®˜ç½‘ï¼Œä½¿ç”¨3ä¸ªæœˆã€‚å¸åŠ›å¼ºåŠ²ï¼Œç»­èˆªæŒä¹…ã€‚é…ä»¶é½å…¨åŒ…æ‹¬åœ°æ¿å¸å¤´ã€åºŠè¤¥å¸å¤´ç­‰ã€‚', phone: '13400134007', wechat: '', publish_fee: 3.9, created_at: '2026-01-14T13:20:00Z', expires_at: '2026-02-28T13:20:00Z' },
            { id: 'p008', order_code: 'ZX20260113CDEF', name: 'ä¼˜è¡£åº“ç¾½ç»’æœ ç”·æ¬¾L', price: 299, original_price: 799, image: 'https://images.unsplash.com/photo-1544022613-e87ca75a784a?w=400&h=300&fit=crop', images: ['https://images.unsplash.com/photo-1544022613-e87ca75a784a?w=800&h=600&fit=crop'], location: 'ä¸Šæµ·Â·å¾æ±‡', category: 'æœé¥°', status: 'active', is_hot: false, views: 167, description: 'ä¼˜è¡£åº“é«˜çº§è½»å‹ç¾½ç»’æœï¼Œé»‘è‰²ç”·æ¬¾Lç ã€‚90%ç™½é¸­ç»’å¡«å……ï¼Œè½»ä¾¿ä¿æš–ã€‚åªç©¿è¿‡ä¸¤æ¬¡ï¼Œå‡ ä¹å…¨æ–°ã€‚', phone: '', wechat: 'fashion_guy', publish_fee: 2.9, created_at: '2026-01-13T15:45:00Z', expires_at: '2026-02-12T15:45:00Z' },
            { id: 'p009', order_code: 'ZX20260115GHIJ', name: 'ä¹é«˜åŸå¸‚ç³»åˆ— è­¦å¯Ÿå±€', price: 458, original_price: 699, image: 'https://images.unsplash.com/photo-1587654780291-39c9404d746b?w=400&h=300&fit=crop', images: ['https://images.unsplash.com/photo-1587654780291-39c9404d746b?w=800&h=600&fit=crop'], location: 'æ·±åœ³Â·ç¦ç”°', category: 'æ¯å©´', status: 'active', is_hot: false, views: 89, description: 'ä¹é«˜åŸå¸‚ç³»åˆ—60316è­¦å¯Ÿå±€ï¼Œå…¨æ–°æœªæ‹†å°ã€‚é€‚åˆ6å²ä»¥ä¸Šå„¿ç«¥ï¼Œå«668é¢—ç²’ï¼Œ4ä¸ªäººä»”ã€‚é€ä¹é«˜æ”¶çº³ç›’ã€‚', phone: '13300133009', wechat: 'lego_dad', publish_fee: 2.9, created_at: '2026-01-15T17:00:00Z', expires_at: '2026-02-14T17:00:00Z' },
            { id: 'p010', order_code: 'ZX20260120KLMN', name: 'MacBook Air M2', price: 7200, original_price: 9499, image: 'https://images.unsplash.com/photo-1517336714731-489689fd1ca8?w=400&h=300&fit=crop', images: ['https://images.unsplash.com/photo-1517336714731-489689fd1ca8?w=800&h=600&fit=crop'], location: 'æ­å·Â·æ»¨æ±Ÿ', category: 'æ•°ç ', status: 'active', is_hot: true, views: 892, description: 'MacBook Air M2 2022æ¬¾ï¼Œ8+256Gï¼Œåˆå¤œè‰²ã€‚è´­äºApple Storeï¼ŒAppleCare+è¿˜å‰©1å¹´åŠã€‚ç”µæ± å¾ªç¯æ¬¡æ•°ä»…38æ¬¡ã€‚', phone: '13200132010', wechat: 'mac_seller', publish_fee: 5.9, created_at: '2026-01-20T09:30:00Z', expires_at: '2026-03-21T09:30:00Z' },
            // V13æ–°å¢ï¼šä¹¦ç±åˆ†ç±»
            { id: 'p011', order_code: 'ZX20260118OPQR', name: 'ã€Šä¸‰ä½“ã€‹å…¨é›† ç²¾è£…å…¸è—ç‰ˆ', price: 128, original_price: 238, image: 'https://images.unsplash.com/photo-1544947950-fa07a98d237f?w=400&h=300&fit=crop', images: ['https://images.unsplash.com/photo-1544947950-fa07a98d237f?w=800&h=600&fit=crop'], location: 'åŒ—äº¬Â·æµ·æ·€', category: 'ä¹¦ç±', status: 'active', is_hot: true, views: 234, description: 'åˆ˜æ…ˆæ¬£ã€Šä¸‰ä½“ã€‹å…¨é›†ç²¾è£…å…¸è—ç‰ˆï¼Œå…¨æ–°å¡‘å°æœªæ‹†ã€‚åŒ…å«ã€Šä¸‰ä½“ã€‹ã€Šé»‘æš—æ£®æ—ã€‹ã€Šæ­»ç¥æ°¸ç”Ÿã€‹ä¸‰å†Œï¼Œç¡¬å£³ç²¾è£…ï¼Œæ”¶è—é€ç¤¼ä½³å“ã€‚', phone: '', wechat: 'book_lover', publish_fee: 2.9, created_at: '2026-01-18T10:00:00Z', expires_at: '2026-02-17T10:00:00Z' },
            { id: 'p012', order_code: 'ZX20260116STUV', name: 'è€ƒç ”è‹±è¯­çœŸé¢˜å…¨å¥—', price: 45, original_price: 89, image: 'https://images.unsplash.com/photo-1456513080510-7bf3a84b82f8?w=400&h=300&fit=crop', images: ['https://images.unsplash.com/photo-1456513080510-7bf3a84b82f8?w=800&h=600&fit=crop'], location: 'æ­¦æ±‰Â·æ­¦æ˜Œ', category: 'ä¹¦ç±', status: 'active', is_hot: false, views: 156, description: 'è€ƒç ”è‹±è¯­ä¸€çœŸé¢˜2015-2025ï¼Œå«è¯¦ç»†è§£æå’Œç¿»è¯‘ã€‚å·²ä¸Šå²¸ï¼Œä½ä»·è½¬è®©ï¼Œä¹¦æœ¬å¹²å‡€æ— ç¬”è®°ã€‚', phone: '13100131012', wechat: '', publish_fee: 2.9, created_at: '2026-01-16T14:30:00Z', expires_at: '2026-02-15T14:30:00Z' },
            // V13æ–°å¢ï¼šè¿åŠ¨åˆ†ç±»
            { id: 'p013', order_code: 'ZX20260117WXYZ', name: 'æ·å®‰ç‰¹TCRå…¬è·¯è‡ªè¡Œè½¦', price: 3200, original_price: 5999, image: 'https://images.unsplash.com/photo-1485965120184-e220f721d03e?w=400&h=300&fit=crop', images: ['https://images.unsplash.com/photo-1485965120184-e220f721d03e?w=800&h=600&fit=crop'], location: 'ä¸Šæµ·Â·é—µè¡Œ', category: 'è¿åŠ¨', status: 'active', is_hot: true, views: 378, description: 'æ·å®‰ç‰¹TCRå…¬è·¯è½¦ï¼Œç¢³çº¤ç»´è½¦æ¶ï¼Œç¦§ç›è¯º105å¥—ä»¶ã€‚éª‘è¡Œçº¦2000å…¬é‡Œï¼Œä¿å…»è‰¯å¥½ï¼Œæ— æ‘”è½¦è®°å½•ã€‚é€ç è¡¨å’Œéª‘è¡Œæœã€‚', phone: '13000130013', wechat: 'cyclist_sh', publish_fee: 5.9, created_at: '2026-01-17T11:15:00Z', expires_at: '2026-03-18T11:15:00Z' },
            { id: 'p014', order_code: 'ZX20260119ABCD', name: 'è¿ªå¡ä¾¬ç‘œä¼½å«+æ³¡æ²«è½´å¥—è£…', price: 89, original_price: 169, image: 'https://images.unsplash.com/photo-1544367567-0f2fcb009e0b?w=400&h=300&fit=crop', images: ['https://images.unsplash.com/photo-1544367567-0f2fcb009e0b?w=800&h=600&fit=crop'], location: 'å¹¿å·Â·ç•ªç¦º', category: 'è¿åŠ¨', status: 'active', is_hot: false, views: 67, description: 'è¿ªå¡ä¾¬ç‘œä¼½å«183x61cmåŠ åšæ¬¾ï¼Œé…æ³¡æ²«è½´ã€‚ä½¿ç”¨3æ¬¡ï¼Œå› å¥èº«æˆ¿å…³é—¨è½¬è®©ï¼Œé€ç‘œä¼½ç –å’Œæ‹‰åŠ›å¸¦ã€‚', phone: '12900129014', wechat: 'yoga_girl', publish_fee: 2.9, created_at: '2026-01-19T16:00:00Z', expires_at: '2026-02-18T16:00:00Z' },
            // V13æ–°å¢ï¼šæ¸¸æˆåˆ†ç±»
            { id: 'p015', order_code: 'ZX20260118EFGH', name: 'PS5å…‰é©±ç‰ˆ+åŒæ‰‹æŸ„', price: 3200, original_price: 4599, image: 'https://images.unsplash.com/photo-1606144042614-b2417e99c4e3?w=400&h=300&fit=crop', images: ['https://images.unsplash.com/photo-1606144042614-b2417e99c4e3?w=800&h=600&fit=crop'], location: 'å¹¿å·Â·å¤©æ²³', category: 'æ¸¸æˆ', status: 'active', is_hot: true, views: 567, description: 'PS5å…‰é©±ç‰ˆå›½è¡Œï¼Œå¸¦ä¸¤ä¸ªåŸè£…DualSenseæ‰‹æŸ„ã€‚è´­äºäº¬ä¸œï¼Œå‘ç¥¨ä¿ä¿®é½å…¨ã€‚é€ã€Šæˆ˜ç¥5ã€‹ã€Šåœ°å¹³çº¿2ã€‹å®ä½“ç›˜ã€‚', phone: '12800128015', wechat: '', publish_fee: 5.9, created_at: '2026-01-18T13:45:00Z', expires_at: '2026-03-19T13:45:00Z' },
            { id: 'p016', order_code: 'ZX20260115IJKL', name: 'Switch OLED + å¥èº«ç¯å¥—è£…', price: 2100, original_price: 3298, image: 'https://images.unsplash.com/photo-1578303512597-81e6cc155b3e?w=400&h=300&fit=crop', images: ['https://images.unsplash.com/photo-1578303512597-81e6cc155b3e?w=800&h=600&fit=crop'], location: 'æ­å·Â·è¥¿æ¹–', category: 'æ¸¸æˆ', status: 'active', is_hot: false, views: 234, description: 'Nintendo Switch OLEDç™½è‰²æ¬¾ï¼Œé…å¥èº«ç¯å¤§å†’é™©ã€‚å±å¹•è´´è†œï¼Œä¸»æœºå®Œç¾æ— åˆ’ç—•ã€‚é€åŸè£…åº•åº§å’Œæ”¶çº³åŒ…ã€‚', phone: '12700127016', wechat: 'switch_player', publish_fee: 3.9, created_at: '2026-01-15T19:20:00Z', expires_at: '2026-03-01T19:20:00Z' },
            // V13æ–°å¢ï¼šå·¥å…·åˆ†ç±»
            { id: 'p017', order_code: 'ZX20260114MNOP', name: 'åšä¸–ç”µé’»å·¥å…·å¥—è£…', price: 480, original_price: 899, image: 'https://images.unsplash.com/photo-1504148455328-c376907d081c?w=400&h=300&fit=crop', images: ['https://images.unsplash.com/photo-1504148455328-c376907d081c?w=800&h=600&fit=crop'], location: 'æ­¦æ±‰Â·æ­¦æ˜Œ', category: 'å·¥å…·', status: 'active', is_hot: false, views: 123, description: 'åšä¸–GSB 180-LIç”µé’»å¥—è£…ï¼Œå«ç”µé’»ä¸»æœºã€ä¸¤å—ç”µæ± ã€å……ç”µå™¨ã€é’»å¤´èºä¸åˆ€å¤´å¥—è£…ã€‚DIYè£…ä¿®å®Œæ¯•ï¼Œä½¿ç”¨æ¬¡æ•°å°‘ã€‚', phone: '12600126017', wechat: 'diy_master', publish_fee: 2.9, created_at: '2026-01-14T10:30:00Z', expires_at: '2026-02-13T10:30:00Z' },
            { id: 'p018', order_code: 'ZX20260119QRST', name: 'å²ä¸¹åˆ©äº”é‡‘å·¥å…·ç®±', price: 320, original_price: 599, image: 'https://images.unsplash.com/photo-1581147036324-c47a03a81d48?w=400&h=300&fit=crop', images: ['https://images.unsplash.com/photo-1581147036324-c47a03a81d48?w=800&h=600&fit=crop'], location: 'æ·±åœ³Â·å®å®‰', category: 'å·¥å…·', status: 'active', is_hot: false, views: 89, description: 'å²ä¸¹åˆ©ä¸“ä¸šäº”é‡‘å·¥å…·ç®±118ä»¶å¥—ï¼Œå«å„ç§æ‰³æ‰‹ã€èºä¸åˆ€ã€é’³å­ã€å·å°ºç­‰ã€‚æ¬å®¶ä¸å¸¦èµ°ï¼Œä¾¿å®œå‡ºã€‚', phone: '', wechat: 'tools_fan', publish_fee: 2.9, created_at: '2026-01-19T14:00:00Z', expires_at: '2026-02-18T14:00:00Z' },
        ];

        let orders = JSON.parse(localStorage.getItem('zhixuan_orders') || '[]');
        let selectedCategory = 'all';
        let uploadedImages = [];
        let currentOrderCode = '';
        let currentProductImages = [];
        let currentImageIndex = 0;
        let paymentTimer = null;
        let currentPage = 'home';

        const compressionOptions = { maxSizeMB: 0.3, maxWidthOrHeight: 1200, useWebWorker: true, fileType: 'image/jpeg' };

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', async function() {
            lucide.createIcons();
            // V18: ä» Supabase åŠ è½½å•†å“
            await loadProductsFromDB();
            renderProducts();
            initScrollEffects();
        });

        // V18: ä» Supabase æ•°æ®åº“åŠ è½½å•†å“
        async function loadProductsFromDB() {
            try {
                const { data, error } = await supabaseClient
                    .from('products')
                    .select('*')
                    .eq('status', 'active')
                    .order('created_at', { ascending: false });
                
                if (error) {
                    console.error('åŠ è½½å•†å“å¤±è´¥:', error);
                    return;
                }
                
                if (data && data.length > 0) {
                    // å°†æ•°æ®åº“å•†å“è½¬æ¢ä¸ºé¡µé¢æ ¼å¼
                    dbProducts = data.map(item => ({
                        id: item.id,
                        order_code: item.order_code,
                        name: item.name,
                        price: parseFloat(item.price),
                        original_price: item.original_price ? parseFloat(item.original_price) : null,
                        image: item.images && item.images[0] ? item.images[0] : 'https://images.unsplash.com/photo-1560393464-5c69a73c5770?w=400&h=300&fit=crop',
                        images: item.images || [],
                        location: item.location || 'æœªçŸ¥ä½ç½®',
                        category: item.category,
                        status: item.status,
                        is_hot: item.views > 100,
                        views: item.views || 0,
                        description: item.description || '',
                        phone: item.phone || '',
                        wechat: item.wechat || '',
                        publish_fee: parseFloat(item.publish_fee) || 0,
                        created_at: item.created_at,
                        expires_at: item.expires_at
                    }));
                    console.log('ä»æ•°æ®åº“åŠ è½½äº†', dbProducts.length, 'ä¸ªå•†å“');
                }
            } catch (err) {
                console.error('æ•°æ®åº“è¿æ¥é”™è¯¯:', err);
            }
        }

        // V18: è·å–æ‰€æœ‰å•†å“ï¼ˆæ•°æ®åº“ + ç¤ºä¾‹æ•°æ®ï¼‰
        function getAllProducts() {
            return [...dbProducts, ...products];
        }

        // æ»šåŠ¨æ•ˆæœ (#14 è¿”å›é¡¶éƒ¨)
        function initScrollEffects() {
            const backToTop = document.getElementById('backToTop');
            window.addEventListener('scroll', () => {
                if (window.scrollY > 500) {
                    backToTop.classList.remove('opacity-0', 'invisible');
                    backToTop.classList.add('opacity-100', 'visible');
                } else {
                    backToTop.classList.add('opacity-0', 'invisible');
                    backToTop.classList.remove('opacity-100', 'visible');
                }
            });
        }

        // Toastæç¤º (#15)
        function showToast(message, type = 'success') {
            const container = document.getElementById('toastContainer');
            const toast = document.createElement('div');
            const bgColor = type === 'success' ? 'bg-emerald-500' : type === 'error' ? 'bg-red-500' : 'bg-blue-500';
            const icon = type === 'success' ? 'check-circle' : type === 'error' ? 'x-circle' : 'info';
            
            toast.className = `${bgColor} text-white px-5 py-3 rounded-xl shadow-lg flex items-center gap-2 toast-enter pointer-events-auto mb-2`;
            toast.innerHTML = `<i data-lucide="${icon}" class="w-5 h-5"></i><span>${message}</span>`;
            container.appendChild(toast);
            lucide.createIcons();
            
            setTimeout(() => {
                toast.classList.remove('toast-enter');
                toast.classList.add('toast-exit');
                setTimeout(() => toast.remove(), 300);
            }, 2500);
        }

        // ç§»åŠ¨ç«¯èœå• (#2)
        function toggleMobileMenu() {
            const menu = document.getElementById('mobileMenu');
            const overlay = document.getElementById('mobileMenuOverlay');
            const isOpen = !menu.classList.contains('translate-x-full');
            
            if (isOpen) {
                menu.classList.add('translate-x-full');
                overlay.classList.add('hidden');
                document.body.style.overflow = '';
            } else {
                menu.classList.remove('translate-x-full');
                overlay.classList.remove('hidden');
                document.body.style.overflow = 'hidden';
            }
            lucide.createIcons();
        }

        // é¡µé¢åˆ‡æ¢ (#3 é«˜äº®å½“å‰é¡µ)
        function showPage(page) {
            currentPage = page;
            ['home', 'post', 'my-order', 'faq'].forEach(p => {
                const el = document.getElementById('page-' + p);
                if (el) el.classList.toggle('hidden', p !== page);
            });
            
            // æ›´æ–°å¯¼èˆªé«˜äº®
            document.querySelectorAll('.nav-link, .mobile-nav-link').forEach(link => {
                const linkPage = link.dataset.page;
                if (linkPage === page) {
                    link.classList.add('text-blue-600');
                } else {
                    link.classList.remove('text-blue-600');
                }
            });
            
            window.scrollTo(0, 0);
            lucide.createIcons();
            
            if (page === 'my-order') {
                document.getElementById('orderResult').classList.add('hidden');
                document.getElementById('orderNotFound').classList.add('hidden');
            }
        }

        function goToPricing() {
            showPage('home');
            setTimeout(() => document.getElementById('pricing').scrollIntoView({ behavior: 'smooth' }), 100);
        }

        function generateOrderCode() {
            const date = new Date();
            const dateStr = date.getFullYear().toString() + (date.getMonth() + 1).toString().padStart(2, '0') + date.getDate().toString().padStart(2, '0');
            const chars = 'ABCDEFGHJKLMNPQRSTUVWXYZ';
            let random = '';
            for (let i = 0; i < 4; i++) random += chars.charAt(Math.floor(Math.random() * chars.length));
            return 'ZX' + dateStr + random;
        }

        // åˆ†ç±»é€‰æ‹© (V13: å½©è‰²å›¾æ ‡æ”¯æŒ)
        const categoryClassMap = {
            'all': 'cat-all', 'å®¶å…·': 'cat-furniture', 'æ•°ç ': 'cat-digital', 'æœé¥°': 'cat-clothing',
            'æ¯å©´': 'cat-baby', 'å®¶å±…': 'cat-home', 'ä¹¦ç±': 'cat-books', 'è¿åŠ¨': 'cat-sports',
            'æ¸¸æˆ': 'cat-games', 'å·¥å…·': 'cat-tools'
        };
        
        function selectCategory(category) {
            selectedCategory = category;
            document.querySelectorAll('.category-btn').forEach(btn => {
                const isActive = btn.dataset.category === category;
                const catClass = categoryClassMap[btn.dataset.category] || '';
                if (isActive) {
                    btn.className = `category-btn ${catClass} active flex items-center gap-2 px-3 md:px-4 py-2 rounded-full text-sm font-medium transition-all text-white shadow-lg whitespace-nowrap`;
                } else {
                    btn.className = `category-btn ${catClass} flex items-center gap-2 px-3 md:px-4 py-2 rounded-full text-sm font-medium transition-all bg-white text-gray-600 hover:bg-gray-100 whitespace-nowrap`;
                }
            });
            renderProducts();
        }

        function filterProducts() { renderProducts(); }
        
        function resetSearch() {
            document.getElementById('searchInput').value = '';
            selectedCategory = 'all';
            selectCategory('all');
        }

        // æ¸²æŸ“å•†å“ (#7 ç©ºçŠ¶æ€) - V13: é€‚é…ä¼˜åŒ–æ•°æ®ç»“æ„
        function renderProducts() {
            const searchQuery = document.getElementById('searchInput').value.toLowerCase();
            const allProducts = getAllProducts(); // V18: ä½¿ç”¨åˆå¹¶åçš„å•†å“åˆ—è¡¨
            const filtered = allProducts.filter(p =>  {
                const matchCategory = selectedCategory === 'all' || p.category === selectedCategory;
                const matchSearch = p.name.toLowerCase().includes(searchQuery) || p.description.toLowerCase().includes(searchQuery);
                return matchCategory && matchSearch;
            });

            const grid = document.getElementById('productGrid');
            const emptyState = document.getElementById('emptyState');
            
            if (filtered.length === 0) {
                grid.innerHTML = '';
                emptyState.classList.remove('hidden');
            } else {
                emptyState.classList.add('hidden');
                grid.innerHTML = filtered.map(product => `
                    <div class="group bg-white rounded-2xl overflow-hidden border border-gray-100 hover:shadow-xl hover:border-blue-200 transition-all duration-300 cursor-pointer" onclick="showProductDetail('${product.id}')">
                        <div class="relative aspect-[4/3] overflow-hidden bg-gray-100">
                            <img src="${product.image}" alt="${product.name}" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-300 lazy-image" loading="lazy" onload="this.classList.add('loaded')">
                            ${product.is_hot ? '<span class="absolute top-2 left-2 bg-amber-400 text-amber-900 text-xs font-bold px-2 py-1 rounded-full">çƒ­é—¨</span>' : ''}
                            <div class="absolute bottom-2 right-2 bg-white/90 backdrop-blur px-2 py-1 rounded-lg text-sm font-bold text-blue-600">
                                Â¥${product.price.toLocaleString()}
                            </div>
                        </div>
                        <div class="p-3 md:p-4">
                            <h3 class="font-medium text-gray-800 truncate mb-1 text-sm md:text-base">${product.name}</h3>
                            <div class="flex items-center justify-between text-xs text-gray-400">
                                <span class="flex items-center gap-1">
                                    <span class="w-1.5 h-1.5 bg-blue-400 rounded-full"></span>
                                    ${product.location}
                                </span>
                                <span class="flex items-center gap-1">
                                    <i data-lucide="eye" class="w-3 h-3"></i>
                                    ${product.views}
                                </span>
                            </div>
                        </div>
                    </div>
                `).join('');
            }
            lucide.createIcons();
        }

        // å•†å“è¯¦æƒ…å¼¹çª— (#4) - V13: é€‚é…ä¼˜åŒ–æ•°æ®ç»“æ„
        function showProductDetail(productId) {
            const product = products.find(p => p.id === productId);
            if (!product) return;
            
            currentProductImages = product.images || [product.image];
            currentImageIndex = 0;
            
            // æ¸²æŸ“å›¾ç‰‡
            const container = document.getElementById('detailImageContainer');
            container.style.transform = 'translateX(0)';
            container.innerHTML = currentProductImages.map(img => `
                <img src="${img}" class="w-full aspect-square object-cover flex-shrink-0" loading="lazy">
            `).join('');
            
            // æ¸²æŸ“æŒ‡ç¤ºå™¨
            const indicators = document.getElementById('imageIndicators');
            indicators.innerHTML = currentProductImages.map((_, i) => `
                <button onclick="goToImage(${i})" class="w-2 h-2 rounded-full ${i === 0 ? 'bg-white' : 'bg-white/50'} transition-all"></button>
            `).join('');
            
            // æ˜¾ç¤º/éšè—ç®­å¤´
            document.getElementById('prevImageBtn').classList.toggle('hidden', currentProductImages.length <= 1);
            document.getElementById('nextImageBtn').classList.toggle('hidden', currentProductImages.length <= 1);
            
            // å¡«å……è¯¦æƒ…
            document.getElementById('detailName').textContent = product.name;
            document.getElementById('detailPrice').textContent = 'Â¥' + product.price.toLocaleString();
            document.getElementById('detailCategory').textContent = product.category;
            document.querySelector('#detailLocation span').textContent = product.location;
            document.querySelector('#detailViews span').textContent = product.views + 'æ¬¡æµè§ˆ';
            document.getElementById('detailDesc').textContent = product.description;
            
            // è”ç³»æ–¹å¼
            const phoneBtn = document.getElementById('detailPhone');
            const wechatBtn = document.getElementById('detailWechat');
            if (product.phone) {
                phoneBtn.href = 'tel:' + product.phone;
                phoneBtn.querySelector('span').textContent = product.phone;
                phoneBtn.classList.remove('hidden');
            } else {
                phoneBtn.classList.add('hidden');
            }
            if (product.wechat) {
                wechatBtn.dataset.wechat = product.wechat;
                wechatBtn.querySelector('span').textContent = product.wechat;
                wechatBtn.classList.remove('hidden');
            } else {
                wechatBtn.classList.add('hidden');
            }
            
            document.getElementById('productDetailModal').classList.remove('hidden');
            document.body.style.overflow = 'hidden';
            lucide.createIcons();
        }

        function closeProductDetail() {
            document.getElementById('productDetailModal').classList.add('hidden');
            document.body.style.overflow = '';
        }

        // å›¾ç‰‡è½®æ’­ (#5)
        function goToImage(index) {
            currentImageIndex = index;
            const container = document.getElementById('detailImageContainer');
            container.style.transform = `translateX(-${index * 100}%)`;
            updateIndicators();
        }

        function prevImage() {
            if (currentImageIndex > 0) goToImage(currentImageIndex - 1);
        }

        function nextImage() {
            if (currentImageIndex < currentProductImages.length - 1) goToImage(currentImageIndex + 1);
        }

        function updateIndicators() {
            const indicators = document.getElementById('imageIndicators').children;
            Array.from(indicators).forEach((ind, i) => {
                ind.className = `w-2 h-2 rounded-full ${i === currentImageIndex ? 'bg-white' : 'bg-white/50'} transition-all`;
            });
        }

        function copyWechat() {
            const wechat = document.getElementById('detailWechat').dataset.wechat;
            navigator.clipboard.writeText(wechat).then(() => showToast('å¾®ä¿¡å·å·²å¤åˆ¶'));
        }

        // è”ç³»å®¢æœ (#20)
        function showContactModal() {
            document.getElementById('contactModal').classList.remove('hidden');
            lucide.createIcons();
        }

        function closeContactModal() {
            document.getElementById('contactModal').classList.add('hidden');
        }

        // V16: æ±‚è´­å¼¹çª—åŠŸèƒ½
        function showWantedModal() {
            document.getElementById('wantedModal').classList.remove('hidden');
            document.body.style.overflow = 'hidden';
            lucide.createIcons();
        }

        function closeWantedModal() {
            document.getElementById('wantedModal').classList.add('hidden');
            document.body.style.overflow = '';
        }

        async function submitWanted() {
            const item = document.getElementById('wantedItem').value.trim();
            const category = document.getElementById('wantedCategory').value;
            const budget = document.getElementById('wantedBudget').value;
            const wechat = document.getElementById('wantedWechat').value.trim();
            const note = document.getElementById('wantedNote').value.trim();

            // éªŒè¯å¿…å¡«å­—æ®µ
            if (!item) { showToast('è¯·å¡«å†™æƒ³è¦çš„å•†å“', 'error'); return; }
            if (!category) { showToast('è¯·é€‰æ‹©å•†å“åˆ†ç±»', 'error'); return; }
            if (!budget) { showToast('è¯·é€‰æ‹©é¢„ç®—èŒƒå›´', 'error'); return; }
            if (!wechat) { showToast('è¯·å¡«å†™å¾®ä¿¡å·', 'error'); return; }

            // V18: ä¿å­˜åˆ° Supabase æ•°æ®åº“
            const wantedData = {
                item: item,
                category: category,
                budget: budget,
                wechat: wechat,
                note: note || ''
            };

            try {
                const { data, error } = await supabaseClient
                    .from('wanted')
                    .insert([wantedData]);

                if (error) {
                    console.error('ä¿å­˜æ±‚è´­ä¿¡æ¯å¤±è´¥:', error);
                    showToast('æäº¤å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•', 'error');
                    return;
                }

                console.log('æ±‚è´­æ•°æ®å·²ä¿å­˜åˆ°æ•°æ®åº“:', wantedData);

                // æ˜¾ç¤ºæˆåŠŸæç¤º
                closeWantedModal();
                showToast('æ±‚è´­å‘å¸ƒæˆåŠŸï¼æœ‰åŒ¹é…å•†å“ä¼šé€šçŸ¥æ‚¨', 'success');

                // æ¸…ç©ºè¡¨å•
                document.getElementById('wantedItem').value = '';
                document.getElementById('wantedCategory').value = '';
                document.getElementById('wantedBudget').value = '';
                document.getElementById('wantedWechat').value = '';
                document.getElementById('wantedNote').value = '';
            } catch (err) {
                console.error('ç½‘ç»œé”™è¯¯:', err);
                showToast('ç½‘ç»œé”™è¯¯ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥', 'error');
            }
        }

        // å›¾ç‰‡ä¸Šä¼ 
        async function handleImageUpload(event) {
            const files = Array.from(event.target.files);
            if (uploadedImages.length + files.length > 3) { showToast('æœ€å¤šåªèƒ½ä¸Šä¼ 3å¼ å›¾ç‰‡', 'error'); return; }
            document.getElementById('compressProgress').classList.remove('hidden');
            for (let i = 0; i < files.length; i++) {
                const file = files[i];
                document.getElementById('compressText').textContent = `æ­£åœ¨ä¼˜åŒ–ç¬¬ ${i + 1}/${files.length} å¼ å›¾ç‰‡...`;
                try {
                    let compressedFile = file;
                    if (file.size > 300 * 1024) compressedFile = await imageCompression(file, compressionOptions);
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        uploadedImages.push({ data: e.target.result, size: compressedFile.size });
                        updateImagePreview();
                    };
                    reader.readAsDataURL(compressedFile);
                } catch (error) { console.error('å‹ç¼©å¤±è´¥:', error); }
            }
            document.getElementById('compressProgress').classList.add('hidden');
        }

        function updateImagePreview() {
            const placeholder = document.getElementById('uploadPlaceholder');
            const preview = document.getElementById('imagePreview');
            if (uploadedImages.length > 0) {
                placeholder.classList.add('hidden');
                preview.classList.remove('hidden');
                preview.innerHTML = uploadedImages.map((img, i) => `
                    <div class="relative group">
                        <img src="${img.data}" class="w-20 h-20 md:w-24 md:h-24 object-cover rounded-xl">
                        <button onclick="removeImage(${i})" class="absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity">
                            <i data-lucide="x" class="w-4 h-4"></i>
                        </button>
                        <span class="absolute bottom-1 right-1 bg-black/50 text-white text-xs px-1 rounded">${(img.size/1024).toFixed(0)}KB</span>
                    </div>
                `).join('') + (uploadedImages.length < 3 ? `
                    <label class="w-20 h-20 md:w-24 md:h-24 border-2 border-dashed border-gray-300 rounded-xl flex flex-col items-center justify-center cursor-pointer hover:border-blue-400 transition-colors">
                        <input type="file" accept="image/*" onchange="handleImageUpload(event)" class="hidden">
                        <i data-lucide="plus" class="w-6 h-6 text-gray-400"></i>
                        <span class="text-xs text-gray-400 mt-1">æ·»åŠ </span>
                    </label>
                ` : '');
                lucide.createIcons();
            } else { placeholder.classList.remove('hidden'); preview.classList.add('hidden'); }
        }

        function removeImage(index) { uploadedImages.splice(index, 1); updateImagePreview(); }

        function getPriceInfo(price) {
            if (price <= 500) return { fee: 2.9, days: 30, label: 'Â¥500ä»¥å†…', extendFee: 1.9, extendDays: 15 };
            else if (price <= 3000) return { fee: 3.9, days: 45, label: 'Â¥500-3000', extendFee: 2.9, extendDays: 20 };
            else return { fee: 5.9, days: 60, label: 'Â¥3000ä»¥ä¸Š', priority: true, extendFee: 3.9, extendDays: 30 };
        }

        function updatePriceInfo() {
            const price = parseFloat(document.getElementById('itemPrice').value) || 0;
            const hint = document.getElementById('priceHint');
            const feeDisplay = document.getElementById('publishFee');
            const daysDisplay = document.getElementById('displayDays');
            if (price > 0) {
                const info = getPriceInfo(price);
                hint.textContent = `${info.label}ï¼Œå‘å¸ƒè´¹ Â¥${info.fee}ï¼Œå±•ç¤º ${info.days} å¤©${info.priority ? 'ï¼Œé¦–é¡µä¼˜å…ˆ' : ''}`;
                hint.classList.remove('hidden');
                feeDisplay.innerHTML = `Â¥${info.fee.toFixed(2)}`;
                daysDisplay.textContent = `å±•ç¤º ${info.days} å¤©`;
            } else { hint.classList.add('hidden'); feeDisplay.innerHTML = `Â¥0.00`; daysDisplay.textContent = ''; }
        }

        // è¡¨å•éªŒè¯ (#16)
        function validateForm() {
            let isValid = true;
            const fields = [
                { id: 'itemName', error: 'itemNameError' },
                { id: 'itemPrice', error: 'itemPriceError' },
                { id: 'itemCategory', error: 'itemCategoryError' }
            ];
            
            fields.forEach(field => {
                const input = document.getElementById(field.id);
                const error = document.getElementById(field.error);
                if (!input.value) {
                    input.classList.add('input-error');
                    error.classList.remove('hidden');
                    isValid = false;
                } else {
                    input.classList.remove('input-error');
                    error.classList.add('hidden');
                }
            });
            
            const phone = document.getElementById('phone').value;
            const wechat = document.getElementById('wechat').value;
            const contactError = document.getElementById('contactError');
            if (!phone && !wechat) {
                contactError.classList.remove('hidden');
                isValid = false;
            } else {
                contactError.classList.add('hidden');
            }
            
            if (uploadedImages.length === 0) {
                showToast('è¯·ä¸Šä¼ è‡³å°‘ä¸€å¼ å•†å“å›¾ç‰‡', 'error');
                isValid = false;
            }
            
            return isValid;
        }

        function handleSubmit() {
            if (!validateForm()) return;
            
            const price = parseFloat(document.getElementById('itemPrice').value);
            const info = getPriceInfo(price);
            const name = document.getElementById('itemName').value;
            const phone = document.getElementById('phone').value;
            const contactInfo = phone ? phone.slice(-4) : document.getElementById('wechat').value.slice(-4);
            
            document.getElementById('paymentType').textContent = 'å‘å¸ƒè´¹ç”¨';
            document.getElementById('paymentAmount').textContent = 'Â¥' + info.fee.toFixed(2);
            document.getElementById('paymentDays').textContent = `å±•ç¤º ${info.days} å¤©${info.priority ? ' Â· é¦–é¡µä¼˜å…ˆ' : ''}`;
            document.getElementById('paymentNote').textContent = name.slice(0, 6) + contactInfo;
            
            // æ”¯ä»˜å€’è®¡æ—¶ (#9)
            startPaymentCountdown();
            
            document.getElementById('paymentModal').classList.remove('hidden');
            lucide.createIcons();
        }

        // æ”¯ä»˜å€’è®¡æ—¶ (#9)
        function startPaymentCountdown() {
            let timeLeft = 15 * 60; // 15åˆ†é’Ÿ
            const countdownEl = document.getElementById('paymentCountdown');
            
            if (paymentTimer) clearInterval(paymentTimer);
            
            function updateCountdown() {
                const minutes = Math.floor(timeLeft / 60);
                const seconds = timeLeft % 60;
                countdownEl.textContent = `è¯·åœ¨ ${minutes}:${seconds.toString().padStart(2, '0')} å†…å®Œæˆæ”¯ä»˜`;
                
                if (timeLeft <= 0) {
                    clearInterval(paymentTimer);
                    countdownEl.textContent = 'æ”¯ä»˜è¶…æ—¶ï¼Œè¯·é‡æ–°æäº¤';
                    countdownEl.classList.add('text-red-500');
                } else {
                    timeLeft--;
                }
            }
            
            updateCountdown();
            paymentTimer = setInterval(updateCountdown, 1000);
        }

        function switchPayment(method) {
            const wechatBtn = document.getElementById('btn-wechat');
            const alipayBtn = document.getElementById('btn-alipay');
            const wechatQR = document.getElementById('qrcode-wechat');
            const alipayQR = document.getElementById('qrcode-alipay');
            const methodName = document.getElementById('paymentMethodName');
            if (method === 'wechat') {
                wechatBtn.className = 'flex-1 py-2.5 rounded-lg border-2 border-green-500 bg-green-50 text-green-600 font-medium flex items-center justify-center gap-2';
                alipayBtn.className = 'flex-1 py-2.5 rounded-lg border-2 border-gray-200 text-gray-500 font-medium flex items-center justify-center gap-2';
                wechatQR.classList.remove('hidden'); alipayQR.classList.add('hidden'); methodName.textContent = 'å¾®ä¿¡';
            } else {
                alipayBtn.className = 'flex-1 py-2.5 rounded-lg border-2 border-blue-500 bg-blue-50 text-blue-600 font-medium flex items-center justify-center gap-2';
                wechatBtn.className = 'flex-1 py-2.5 rounded-lg border-2 border-gray-200 text-gray-500 font-medium flex items-center justify-center gap-2';
                alipayQR.classList.remove('hidden'); wechatQR.classList.add('hidden'); methodName.textContent = 'æ”¯ä»˜å®';
            }
        }

        function closePaymentModal() {
            document.getElementById('paymentModal').classList.add('hidden');
            if (paymentTimer) clearInterval(paymentTimer);
        }

                // ============================================
        // ç¡®è®¤æ”¯ä»˜å¹¶å‘å¸ƒå•†å“åˆ° Supabase
        // åŠŸèƒ½ï¼šä¸Šä¼ å›¾ç‰‡ + ä¿å­˜å•†å“ä¿¡æ¯åˆ°æ•°æ®åº“
        // ============================================
        async function confirmPayment() {
            // 1. å…³é—­æ”¯ä»˜å¼¹çª—
            document.getElementById('paymentModal').classList.add('hidden');
            if (paymentTimer) clearInterval(paymentTimer);
            
            // 2. ç”Ÿæˆè®¢å•ç ï¼ˆæ ¼å¼ï¼šZX + æ—¥æœŸ + 4ä½éšæœºå­—æ¯ï¼‰
            const orderCode = generateOrderCode();
            currentOrderCode = orderCode;
            
            // 3. è·å–è¡¨å•æ•°æ®
            const name = document.getElementById('itemName').value;
            const price = parseFloat(document.getElementById('itemPrice').value);
            const category = document.getElementById('itemCategory').value;
            const description = document.getElementById('itemDesc').value;
            const phone = document.getElementById('phone').value;
            const wechat = document.getElementById('wechat').value;
            const info = getPriceInfo(price);
            
            // 4. æ˜¾ç¤ºåŠ è½½çŠ¶æ€
            showToast('æ­£åœ¨å‘å¸ƒå•†å“...', 'info');
            
            try {
                // ========== 5. ä¸Šä¼ å›¾ç‰‡åˆ° Supabase Storage ==========
                const imageUrls = [];
                
                for (let i = 0; i < uploadedImages.length; i++) {
                    const imageData = uploadedImages[i].data;
                    
                    // 5.1 å°† base64 è½¬æ¢ä¸º Blob
                    const response = await fetch(imageData);
                    const blob = await response.blob();
                    
                    // 5.2 ç¡®å®šæ–‡ä»¶æ‰©å±•å
                    const fileExt = imageData.includes('image/png') ? 'png' : 'jpg';
                    
                    // 5.3 ç”Ÿæˆæ–‡ä»¶è·¯å¾„ï¼ˆè®¢å•ç /åºå·.æ‰©å±•åï¼‰
                    const fileName = `${orderCode}/${i}.${fileExt}`;
                    
                    // 5.4 ä¸Šä¼ åˆ° Supabase Storage
                    const { data: uploadData, error: uploadError } = await supabaseClient.storage
                        .from('product-images')
                        .upload(fileName, blob, { 
                            contentType: `image/${fileExt}`,
                            cacheControl: '3600'
                        });
                    
                    if (!uploadError) {
                        // 5.5 è·å–å›¾ç‰‡å…¬å¼€ URL
                        const { data: urlData } = supabaseClient.storage
                            .from('product-images')
                            .getPublicUrl(fileName);
                        imageUrls.push(urlData.publicUrl);
                        console.log('âœ… å›¾ç‰‡ä¸Šä¼ æˆåŠŸ:', fileName);
                    } else {
                        console.error('âŒ å›¾ç‰‡ä¸Šä¼ å¤±è´¥:', uploadError);
                    }
                }
                
                // ========== 6. è®¡ç®—è¿‡æœŸæ—¶é—´ ==========
                const expiresAt = new Date();
                expiresAt.setDate(expiresAt.getDate() + info.days);
                
                // ========== 7. ä¿å­˜å•†å“åˆ° Supabase æ•°æ®åº“ ==========
                const { data, error } = await supabaseClient
                    .from('products')
                    .insert({
                        order_code: orderCode,          // è®¢å•ç 
                        name: name,                     // å•†å“åç§°
                        price: price,                   // ä»·æ ¼
                        category: category,             // åˆ†ç±»
                        description: description,       // æè¿°
                        images: imageUrls.length > 0 ? imageUrls : null,  // å›¾ç‰‡URLæ•°ç»„
                        phone: phone || null,           // æ‰‹æœºå·ï¼ˆå¯é€‰ï¼‰
                        wechat: wechat || null,         // å¾®ä¿¡å·ï¼ˆå¯é€‰ï¼‰
                        location: 'æœªå¡«å†™',              // ä½ç½®
                        status: 'active',               // çŠ¶æ€ï¼šç›´æ¥ä¸Šæ¶
                        publish_fee: isAdminMode() ? 0 : info.fee,          // å‘å¸ƒè´¹
                        display_days: info.days,        // å±•ç¤ºå¤©æ•°
                        views: 0,                       // åˆå§‹æµè§ˆæ¬¡æ•°
                        expires_at: expiresAt.toISOString()  // è¿‡æœŸæ—¶é—´
                    })
                    .select();
                
                // 8. æ£€æŸ¥æ˜¯å¦ä¿å­˜æˆåŠŸ
                if (error) {
                    console.error('âŒ å‘å¸ƒå¤±è´¥:', error);
                    showToast('å‘å¸ƒå¤±è´¥: ' + error.message, 'error');
                    return;
                }
                
                console.log('âœ… å•†å“å‘å¸ƒæˆåŠŸ:', data);
                
                // ========== 9. åŒæ—¶ä¿å­˜åˆ°æœ¬åœ° localStorageï¼ˆå…¼å®¹åŸæœ‰é€»è¾‘ï¼‰==========
                const order = {
                    code: orderCode,
                    name: name,
                    price: price,
                    category: category,
                    description: description,
                    phone: phone,
                    wechat: wechat,
                    images: imageUrls.length > 0 ? imageUrls : uploadedImages.map(img => img.data),
                    status: 'active',
                    publishFee: info.fee,
                    displayDays: info.days,
                    createdAt: new Date().toISOString(),
                    expiresAt: expiresAt.toISOString()
                };
                orders.push(order);
                localStorage.setItem('zhixuan_orders', JSON.stringify(orders));
                
                // ========== 10. æ˜¾ç¤ºæˆåŠŸå¼¹çª— ==========
                document.getElementById('generatedOrderCode').textContent = orderCode;
                document.getElementById('successModal').classList.remove('hidden');
                lucide.createIcons();
                
                // 11. åˆ·æ–°å•†å“åˆ—è¡¨ï¼ˆæ˜¾ç¤ºæ–°å‘å¸ƒçš„å•†å“ï¼‰
                await loadProductsFromDB();
                renderProducts();
                
                // 12. æ˜¾ç¤ºæˆåŠŸæç¤º
                showToast('ğŸ‰ å•†å“å‘å¸ƒæˆåŠŸï¼', 'success');
                
            } catch (err) {
                // 13. æ•è·ç½‘ç»œé”™è¯¯
                console.error('âŒ å‘å¸ƒå‡ºé”™:', err);
                showToast('å‘å¸ƒå‡ºé”™ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥', 'error');
            }
        }

        // å¤åˆ¶è®¢å•ç  (#17 åŠ¨æ•ˆ)
        function copyOrderCode() {
            navigator.clipboard.writeText(currentOrderCode).then(() => {
                const copyBtn = document.getElementById('copyBtn');
                const copyIcon = document.getElementById('copyIcon');
                const copyText = document.getElementById('copyText');
                
                copyIcon.setAttribute('data-lucide', 'check');
                copyText.textContent = 'å·²å¤åˆ¶ï¼';
                copyBtn.classList.add('text-emerald-600');
                lucide.createIcons();
                
                setTimeout(() => {
                    copyIcon.setAttribute('data-lucide', 'copy');
                    copyText.textContent = 'ç‚¹å‡»å¤åˆ¶';
                    copyBtn.classList.remove('text-emerald-600');
                    lucide.createIcons();
                }, 2000);
            });
        }

        function closeSuccessModal() {
            document.getElementById('successModal').classList.add('hidden');
            showPage('home');
            // é‡ç½®è¡¨å•
            document.getElementById('itemName').value = '';
            document.getElementById('itemPrice').value = '';
            document.getElementById('itemCategory').value = '';
            document.getElementById('itemDesc').value = '';
            document.getElementById('phone').value = '';
            document.getElementById('wechat').value = '';
            uploadedImages = [];
            updateImagePreview();
            updatePriceInfo();
            // æ¸…é™¤é”™è¯¯çŠ¶æ€
            document.querySelectorAll('.input-error').forEach(el => el.classList.remove('input-error'));
            document.querySelectorAll('.error-message').forEach(el => el.classList.add('hidden'));
        }

        function queryOrder() {
            const code = document.getElementById('orderCodeInput').value.trim().toUpperCase();
            if (!code) { showToast('è¯·è¾“å…¥è®¢å•ç ', 'error'); return; }
            const order = orders.find(o => o.code === code);
            if (order) {
                currentOrderCode = code;
                displayOrderResult(order);
                document.getElementById('orderResult').classList.remove('hidden');
                document.getElementById('orderNotFound').classList.add('hidden');
            } else {
                document.getElementById('orderResult').classList.add('hidden');
                document.getElementById('orderNotFound').classList.remove('hidden');
            }
            lucide.createIcons();
        }

        function displayOrderResult(order) {
            document.getElementById('resultImage').src = order.images[0] || '';
            document.getElementById('resultName').textContent = order.name;
            document.getElementById('resultPrice').textContent = 'Â¥' + order.price.toLocaleString();
            document.getElementById('resultCategory').textContent = order.category;
            document.getElementById('resultCode').textContent = order.code;
            document.getElementById('resultDate').textContent = new Date(order.createdAt).toLocaleDateString('zh-CN');
            const now = new Date(); const expiresAt = new Date(order.expiresAt);
            const daysLeft = Math.max(0, Math.ceil((expiresAt - now) / (24 * 60 * 60 * 1000)));
            const statusEl = document.getElementById('resultStatus'); const daysEl = document.getElementById('resultDaysLeft');
            const actionsEl = document.getElementById('orderActions'); const soldNotice = document.getElementById('soldNotice');
            if (order.status === 'sold') { statusEl.textContent = 'å·²æˆäº¤'; statusEl.className = 'font-bold text-emerald-600'; daysEl.textContent = '-'; actionsEl.classList.add('hidden'); soldNotice.classList.remove('hidden'); }
            else if (order.status === 'expired' || daysLeft === 0) { statusEl.textContent = 'å·²è¿‡æœŸ'; statusEl.className = 'font-bold text-gray-400'; daysEl.textContent = 'å·²è¿‡æœŸ'; daysEl.className = 'font-bold text-red-500'; actionsEl.classList.remove('hidden'); soldNotice.classList.add('hidden'); document.getElementById('btnMarkSold').classList.add('hidden'); }
            else if (order.status === 'pending') { statusEl.textContent = 'å®¡æ ¸ä¸­'; statusEl.className = 'font-bold text-amber-500'; daysEl.textContent = daysLeft + 'å¤©'; daysEl.className = 'font-bold text-blue-600'; actionsEl.classList.remove('hidden'); soldNotice.classList.add('hidden'); }
            else { statusEl.textContent = 'å±•ç¤ºä¸­'; statusEl.className = 'font-bold text-blue-600'; daysEl.textContent = daysLeft + 'å¤©'; daysEl.className = daysLeft <= 7 ? 'font-bold text-amber-500' : 'font-bold text-blue-600'; actionsEl.classList.remove('hidden'); soldNotice.classList.add('hidden'); document.getElementById('btnMarkSold').classList.remove('hidden'); }
        }

        function markAsSold() { document.getElementById('soldConfirmModal').classList.remove('hidden'); lucide.createIcons(); }
        function closeSoldConfirmModal() { document.getElementById('soldConfirmModal').classList.add('hidden'); }
        function confirmMarkSold() {
            const orderIndex = orders.findIndex(o => o.code === currentOrderCode);
            if (orderIndex !== -1) {
                orders[orderIndex].status = 'sold';
                localStorage.setItem('zhixuan_orders', JSON.stringify(orders));
                closeSoldConfirmModal();
                displayOrderResult(orders[orderIndex]);
                showToast('æ­å–œï¼å•†å“å·²æ ‡è®°ä¸ºæˆäº¤');
            }
        }

        function showExtendModal() {
            const order = orders.find(o => o.code === currentOrderCode);
            if (!order) return;
            const info = getPriceInfo(order.price);
            document.getElementById('extendAmount').textContent = 'Â¥' + info.extendFee.toFixed(2);
            document.getElementById('extendDays').textContent = `å»¶é•¿${info.extendDays}å¤©å±•ç¤ºæœŸ`;
            document.getElementById('extendNote').textContent = 'å»¶æœŸ+' + currentOrderCode;
            document.getElementById('extendModal').classList.remove('hidden');
            lucide.createIcons();
        }

        function closeExtendModal() { document.getElementById('extendModal').classList.add('hidden'); }
        function confirmExtend() {
            const orderIndex = orders.findIndex(o => o.code === currentOrderCode);
            if (orderIndex !== -1) {
                const order = orders[orderIndex];
                const info = getPriceInfo(order.price);
                const currentExpires = new Date(order.expiresAt);
                const newExpires = new Date(currentExpires.getTime() + info.extendDays * 24 * 60 * 60 * 1000);
                orders[orderIndex].expiresAt = newExpires.toISOString();
                orders[orderIndex].status = 'active';
                localStorage.setItem('zhixuan_orders', JSON.stringify(orders));
                closeExtendModal();
                displayOrderResult(orders[orderIndex]);
                showToast('å»¶æœŸæˆåŠŸï¼å·²å»¶é•¿' + info.extendDays + 'å¤©');
            }
        }
    </script>
</body>
</html>
